"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[588],{5395:function(e,t,n){n.d(t,{Z:function(){return v}});var o=n(9199);const r={class:"section-header__body"},s={class:"section-header__title"},i={class:"section-header__title--text"},c={key:0,class:"section-header__subtitle"},a={key:0,class:"section-header__controls"},l={key:0,class:"section-header__controls--optional"},u={key:1,type:"button",class:"section-header__control--optional is-only-desktop"},p={key:1,class:"section-header__controls--main"},d={key:0,type:"button",class:"section-header__control--main is-only-desktop"},h={key:1,type:"button",class:"section-header__control--main is-only-desktop"};function y(e,t,n,y,m,b){const f=(0,o.up)("svg-icon");return(0,o.wg)(),(0,o.iD)("div",{class:"section-header",style:(0,o.j5)({backgroundImage:b.bgImage})},[(0,o._)("div",r,[(0,o._)("div",s,[(0,o._)("div",i,(0,o.zw)(n.title),1),n.copy?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"section-header__title--copy",onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>b.copyText&&b.copyText(...e)),["left","exact","prevent","stop"]))},[(0,o.Wm)(f,{"icon-name":"copy"})])):(0,o.kq)("",!0)]),n.subtitle?((0,o.wg)(),(0,o.iD)("div",c,(0,o.zw)(n.subtitle),1)):(0,o.kq)("",!0)]),b.hasControls?((0,o.wg)(),(0,o.iD)("div",a,[b.hasOptionalControls?((0,o.wg)(),(0,o.iD)("div",l,[n.print?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"section-header__control--optional is-only-desktop",onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>b.openPrintWindow&&b.openPrintWindow(...e)),["left","exact","prevent","stop"]))},[(0,o.Wm)(f,{"icon-name":"print"})])):(0,o.kq)("",!0),n.exportFoundry?((0,o.wg)(),(0,o.iD)("button",u,[(0,o.Wm)(f,{"icon-name":"export-foundry"})])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),b.hasMainControls?((0,o.wg)(),(0,o.iD)("div",p,[n.fullscreen?((0,o.wg)(),(0,o.iD)("button",d,[(0,o.Wm)(f,{"icon-name":"fullscreen"})])):(0,o.kq)("",!0),n.fullscreen?((0,o.wg)(),(0,o.iD)("button",h,[(0,o.Wm)(f,{"icon-name":"exit-fullscreen"})])):(0,o.kq)("",!0),n.close?((0,o.wg)(),(0,o.iD)("button",{key:2,type:"button",class:"section-header__control--main",onClick:t[2]||(t[2]=(0,o.iM)((e=>n.close()),["left","exact","prevent","stop"]))},[(0,o.Wm)(f,{"icon-name":"close"})])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)],4)}var m=n(5537),b={name:"SectionHeader",components:{SvgIcon:m.Z},props:{level:{type:[String,Number],default:1,validator:e=>{if("number"!==typeof Number(e))return!1;const t=[1,2];return t.includes(Number(e))}},title:{type:String,required:!0},subtitle:{type:String,default:""},copy:{type:String,default:""},print:{type:Boolean,default:!1},exportFoundry:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},close:{type:Function,default:void 0}},emits:["close"],computed:{bgImage(){switch(Number(this.level)){case 2:return"var(--bg-title-img-2)";default:return"var(--bg-title-img)"}},hasOptionalControls(){return!!this.print||!!this.exportFoundry},hasMainControls(){return!!this.close||!!this.fullscreen},hasControls(){return!!this.hasOptionalControls||!!this.hasMainControls}},methods:{async copyText(){if(navigator.clipboard)try{return void await navigator.clipboard.writeText(this.copy)}catch(t){console.error(t)}const e=document.body.appendChild(document.createElement("input"));e.value=this.copy,e.focus(),e.select(),document.execCommand("copy"),e.parentNode.removeChild(e)},openPrintWindow(){window.print()}}},f=n(89);const g=(0,f.Z)(b,[["render",y],["__scopeId","data-v-6cf0c451"]]);var v=g},3588:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var o=n(9199);const r={class:"class-detail"};function s(e,t,n,s,i,c){const a=(0,o.up)("section-header");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(a,{title:c.title,subtitle:c.subtitle,copy:c.urlForCopy,level:2,fullscreen:""},null,8,["title","subtitle","copy"])])}var i=n(1351),c=n(5543),a=n(5395),l={name:"RaceDetail",components:{SectionHeader:a.Z},async beforeRouteUpdate(e){try{await this.setClassInfo(e.params.className,e.params?.classArchetype)}catch(t){await this.$router.push({name:"NotFound"})}},computed:{...(0,c.rn)(i.q,{currentClass:"getCurrentClass",currentArchetype:"getCurrentArchetype"}),title(){return"classArchetype"===this.$route.name?`${this.currentClass.name.rus} ${this.currentArchetype.name.rus}`:this.currentArchetype.name.rus},subtitle(){return"classArchetype"===this.$route.name?`${this.currentClass.name.eng} ${this.currentArchetype.name.eng}`:this.currentArchetype.name.eng},urlForCopy(){return window.location.origin+this.$route.fullPath}},methods:{...(0,c.nv)(i.q,["setCurrentClass"])}},u=n(89);const p=(0,u.Z)(l,[["render",s]]);var d=p}}]);