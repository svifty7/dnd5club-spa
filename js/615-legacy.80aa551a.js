"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[615],{2462:function(e,t,r){r.r(t),r.d(t,{default:function(){return L}});r(8309);var a=r(9437),n={class:"races"},s={class:"races__list"},i={class:"races__filter"},c={class:"races__items"},u={class:"races__items_body"},o={"transition-duration":"0.15s",class:"races__items_body--inner","item-selector":".race-item",gutter:"16","percent-position":"true","horizontal-order":"true"};function m(e,t,r,m,l,_){var d=(0,a.up)("filter-item-source"),p=(0,a.up)("filter-item-checkboxes"),v=(0,a.up)("list-filter"),f=(0,a.up)("race-item"),b=((0,a.up)("router-view"),(0,a.Q2)("masonry"));return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",s,[(0,a._)("div",i,[(0,a.Wm)(v,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(d),(0,a.Wm)(p,{name:"Кость хитов"})]})),_:1})]),(0,a._)("div",c,[(0,a._)("div",u,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getRaces,(function(e,t){return(0,a.wg)(),(0,a.j4)(f,{key:t,to:{name:"raceDetail",params:{raceName:e.name.url}},"race-item":e},null,8,["to","race-item"])})),128))])),[[b,"races-items"]])])])]),(0,a.kq)("",!0)])}var l=r(5082),_=r(8534),d=(r(6133),r(169)),p=r(6617),v=r(3568),f=r(5543),b=(r(2222),{class:"race-item__content"}),w={class:"race-item__main"},g=["href","onClick"],h={class:"race-item__icon"},k={class:"race-item__body"},y={class:"race-item__body_row"},I={class:"race-item__name"},D={class:"race-item__name--rus"},z={class:"race-item__name--eng"},R={class:"race-item__book"},C={class:"race-item__body_row"},S={class:"race-item__abilities"},x={class:"race-item__subrace-type_name"},G={class:"race-item__subrace-type_items"},O={class:"race-item__subrace-item_name"},Z={class:"race-item__subrace-item_book"};function $(e,t,r,n,s,i){var c=(0,a.up)("svg-icon"),u=(0,a.up)("router-link"),o=(0,a.Q2)("tooltip"),m=(0,a.Q2)("masonry-tile");return"undefined"!==typeof r.raceItem.name.url?((0,a.wg)(),(0,a.j4)(u,(0,a.dG)({key:0},e.$props,{custom:"",to:{name:"raceDetail",params:{raceName:r.raceItem.name.url}}}),{default:(0,a.w5)((function(n){var l,_,d,p,v=n.href,f=n.navigate,$=n.isActive;return[(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",(0,a.dG)(e.$attrs,{ref:"raceItem",class:["race-item",{"router-link-active":$}]}),[(0,a._)("div",b,[(0,a._)("div",w,[(0,a._)("a",{href:v,class:"race-item__link",onClick:(0,a.iM)((function(e){return f()}),["left","prevent","exact"])},[(0,a._)("span",h,[(0,a.Wm)(c,{"icon-name":i.getSVGName},null,8,["icon-name"])]),(0,a._)("span",k,[(0,a._)("span",y,[(0,a._)("span",I,[(0,a._)("span",D,(0,a.zw)(r.raceItem.name.rus),1),(0,a._)("span",z," ["+(0,a.zw)(r.raceItem.name.eng)+"] ",1)]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",R,[(0,a.Uk)((0,a.zw)(r.raceItem.source.shortName),1)])),[[o,{content:r.raceItem.source.name}]])]),(0,a._)("span",C,[(0,a._)("span",S,(0,a.zw)(r.raceItem.abilities),1)])])],8,g),null!==(l=r.raceItem)&&void 0!==l&&null!==(_=l.subraces)&&void 0!==_&&_.length?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:(0,a.C_)(["race-item__toggle",{"is-active":s.submenu.show}]),onClick:t[0]||(t[0]=(0,a.iM)((function(){return i.toggleSubrace&&i.toggleSubrace.apply(i,arguments)}),["left","exact","prevent"]))},[(0,a.Wm)(c,{"icon-name":"expand-down"})],2)):(0,a.kq)("",!0)]),null!==(d=r.raceItem)&&void 0!==d&&null!==(p=d.subraces)&&void 0!==p&&p.length?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,a.C_)([{"is-active":i.isOpenedSubraces},"race-item__subrace-list"])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.raceItem.subraces,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{key:t,class:"race-item__subrace-list_col"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{key:t,class:"race-item__subrace-type"},[(0,a._)("div",x,(0,a.zw)(e.name),1),(0,a._)("div",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.list,(function(e,t){return(0,a.wg)(),(0,a.j4)(u,{key:t,to:{path:e.name.url},class:"race-item__subrace-item"},{default:(0,a.w5)((function(){return[(0,a._)("span",O,(0,a.zw)(e.name.rus),1),(0,a._)("span",Z,(0,a.zw)("".concat(e.source.shortName," / ").concat(e.name.eng)),1)]})),_:2},1032,["to"])})),128))])])})),128))])})),128))],2)):(0,a.kq)("",!0)])],16)),[[m]])]})),_:1},16,["to"])):(0,a.kq)("",!0)}r(9600),r(4916),r(3123);var N=r(5537),j=r(678),q={name:"RaceItem",components:{SvgIcon:N.Z},props:(0,l.Z)({raceItem:{type:Object,default:function(){return null},required:!0}},j.rH.props),data:function(){return{submenu:{show:!1},resizeObserver:null}},computed:{isOpenedSubraces:function(){var e,t;return(null===(e=this.$route.params)||void 0===e?void 0:e.raceName)===(null===(t=this.raceItem.name)||void 0===t?void 0:t.url)||this.submenu.show},getSVGName:function(){return"race-".concat(this.raceItem.name.eng.toLowerCase().split(" ").join("-"))}},watch:{submenu:{deep:!0,handler:function(){this.updateGrid()}},isOpenedSubraces:function(){this.updateGrid()}},mounted:function(){var e=this;this.$nextTick((function(){e.resizeObserver=new ResizeObserver(e.updateGrid),e.resizeObserver.observe(e.$refs.raceItem),e.updateGrid()}))},beforeUnmount:function(){this.resizeObserver.unobserve(this.$refs.raceItem)},methods:{toggleSubrace:function(){this.submenu.show=!this.submenu.show},updateGrid:function(){var e=this;this.$nextTick((function(){return e.$redrawVueMasonry("races-items")}))}}},H=r(89);const W=(0,H.Z)(q,[["render",$],["__scopeId","data-v-63e131d3"]]);var K=W,V=r(9371),Y={name:"RacesView",components:{RaceItem:K,FilterItemCheckboxes:v.Z,FilterItemSource:p.Z,ListFilter:d.Z},beforeRouteEnter:function(){return(0,_.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(0,V.t)(),e.next=3,t.initRaceList();case 3:case"end":return e.stop()}}),e)})))()},computed:(0,l.Z)({},(0,f.rn)(V.t,["getRaces","getCurrentRace"]))};const F=(0,H.Z)(Y,[["render",m],["__scopeId","data-v-e77cd1f2"]]);var L=F}}]);