"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[851],{9158:function(e,t,n){n.d(t,{Z:function(){return p}});n(7327),n(1539);var r=n(9437),a={class:"content-layout__body"},s={class:"content-layout__list"},i={key:0,class:"content-layout__filter"},c={class:"content-layout__items"},o={key:0,class:"content-layout__selected"};function u(e,t,n,u,l,m){var _=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",{class:(0,r.C_)(["content-layout",m.layoutClasses])},[(0,r._)("div",a,[(0,r._)("div",s,[e.$slots.filter?((0,r.wg)(),(0,r.iD)("div",i,[(0,r.WI)(e.$slots,"filter",{},void 0,!0)])):(0,r.kq)("",!0),(0,r._)("div",c,[(0,r.WI)(e.$slots,"items",{},void 0,!0)])]),n.showRightSide?((0,r.wg)(),(0,r.iD)("div",o,[((0,r.wg)(),(0,r.j4)(_,{key:e.$route.fullPath}))])):(0,r.kq)("",!0)])],2)}var l=n(5669),m={name:"ContentLayout",props:{showRightSide:{type:Boolean,default:!1}},data:function(){return{uiStore:(0,l.H)()}},computed:{layoutClasses:function(){return{"is-showed-right-side":this.showRightSide,"is-fullscreen":this.uiStore.getContentConfig.fullscreen,"is-small":!this.uiStore.getContentConfig.fullscreen}}}},_=n(89);const d=(0,_.Z)(m,[["render",u],["__scopeId","data-v-0fb3d05a"]]);var p=d},4220:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});n(8309);var r=n(9437),a={"transition-duration":"0.15s",class:"races__items_body--inner","item-selector":".race-item",gutter:"16","percent-position":"true","horizontal-order":"true"};function s(e,t,n,s,i,c){var o=(0,r.up)("filter-item-source"),u=(0,r.up)("filter-item-checkboxes"),l=(0,r.up)("list-filter"),m=(0,r.up)("race-item"),_=(0,r.up)("content-layout"),d=(0,r.Q2)("masonry");return(0,r.wg)(),(0,r.j4)(_,{"show-right-side":"raceDetail"===e.$route.name},{filter:(0,r.w5)((function(){return[(0,r.Wm)(l,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(o),(0,r.Wm)(u,{name:"Кость хитов"})]})),_:1})]})),items:(0,r.w5)((function(){return[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",a,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.getRaces,(function(e,t){return(0,r.wg)(),(0,r.j4)(m,{key:t,to:{path:e.url},"race-item":e},null,8,["to","race-item"])})),128))])),[[d,"races-items"]])]})),_:1},8,["show-right-side"])}var i=n(5082),c=n(8534),o=(n(6133),n(169)),u=n(6617),l=n(3568),m=n(5543),_=(n(4916),n(4723),n(4603),n(8450),n(8386),n(9714),{class:"race-item__content"}),d={class:"race-item__main"},p=["href","onClick"],f={class:"race-item__icon"},w={class:"race-item__body"},v={class:"race-item__body_row"},h={class:"race-item__name"},g={class:"race-item__name--rus"},b={class:"race-item__name--eng"},y={class:"race-item__book"},k={class:"race-item__body_row"},I={class:"race-item__abilities"},C={class:"race-item__subrace-type_name"},D={class:"race-item__subrace-type_items"},R={class:"race-item__subrace-item_name"},$={class:"race-item__subrace-item_book"},z=(0,r.Uk)(" / ");function S(e,t,n,a,s,i){var c=(0,r.up)("svg-icon"),o=(0,r.up)("router-link"),u=(0,r.Q2)("tooltip"),l=(0,r.Q2)("masonry-tile");return"undefined"!==typeof n.raceItem.url?((0,r.wg)(),(0,r.j4)(o,(0,r.dG)({key:0},e.$props,{custom:"",to:{path:n.raceItem.url}}),{default:(0,r.w5)((function(a){var m,S,Z,x,O,G=a.href,W=a.navigate,j=a.isActive;return[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",(0,r.dG)(e.$attrs,{ref:"raceItem",class:["race-item",{"router-link-active":j||e.$route.fullPath.match(new RegExp("^".concat(n.raceItem.url))),"is-race-selected":"raceDetail"===e.$route.name,"is-green":"homebrew"===(null===(m=n.raceItem.type)||void 0===m?void 0:m.name.toLowerCase())}]}),[(0,r._)("div",_,[(0,r._)("div",d,[(0,r._)("a",{href:G,class:"race-item__link",onClick:(0,r.iM)((function(e){return W()}),["left","prevent","exact"])},[(0,r._)("span",f,[(0,r.Wm)(c,{"icon-name":n.raceItem.icon},null,8,["icon-name"])]),(0,r._)("span",w,[(0,r._)("span",v,[(0,r._)("span",h,[(0,r._)("span",g,(0,r.zw)(n.raceItem.name.rus),1),(0,r._)("span",b," ["+(0,r.zw)(n.raceItem.name.eng)+"] ",1)]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("span",y,[(0,r.Uk)((0,r.zw)(n.raceItem.source.shortName),1)])),[[u,{content:n.raceItem.source.name}]])]),(0,r._)("span",k,[(0,r._)("span",I,(0,r.zw)(n.raceItem.abilities),1)])])],8,p),null!==(S=n.raceItem)&&void 0!==S&&null!==(Z=S.subraces)&&void 0!==Z&&Z.length?(0,r.wy)(((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:(0,r.C_)(["race-item__toggle",{"is-active":s.submenu.show}]),onClick:t[0]||(t[0]=(0,r.iM)((function(){return i.toggleSubrace&&i.toggleSubrace.apply(i,arguments)}),["left","exact","prevent"]))},[(0,r.Wm)(c,{"icon-name":"expand-down"})],2)),[[u,{content:"Разновидности"},void 0,{left:!0}]]):(0,r.kq)("",!0)]),null!==(x=n.raceItem)&&void 0!==x&&null!==(O=x.subraces)&&void 0!==O&&O.length?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,r.C_)([{"is-active":i.isOpenedSubraces},"race-item__subrace-list"])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.raceItem.subraces,(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{key:t,class:"race-item__subrace-list_col"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e,(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{key:t,class:"race-item__subrace-type"},[(0,r._)("div",C,(0,r.zw)(e.name),1),(0,r._)("div",D,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.list,(function(e,t){return(0,r.wg)(),(0,r.j4)(o,{key:t,to:{path:e.url},class:"race-item__subrace-item"},{default:(0,r.w5)((function(){return[(0,r._)("span",R,(0,r.zw)(e.name.rus),1),(0,r._)("span",$,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("span",null,[(0,r.Uk)((0,r.zw)(e.source.shortName),1)])),[[u,{content:e.source.name}]]),z,(0,r._)("span",null,(0,r.zw)(e.name.eng),1)])]})),_:2},1032,["to"])})),128))])])})),128))])})),128))],2)):(0,r.kq)("",!0)])],16)),[[l]])]})),_:1},16,["to"])):(0,r.kq)("",!0)}var Z=n(5537),x=n(678),O={name:"RaceItem",components:{SvgIcon:Z.Z},props:(0,i.Z)({raceItem:{type:Object,default:function(){return null},required:!0}},x.rH.props),data:function(){return{submenu:{show:!1},resizeObserver:null}},computed:{isOpenedSubraces:function(){var e;return(null===(e=this.$route.params)||void 0===e?void 0:e.raceName)===this.raceItem.url||this.submenu.show}},watch:{submenu:{deep:!0,handler:function(){this.updateGrid()}},isOpenedSubraces:function(){this.updateGrid()}},mounted:function(){var e=this;this.$nextTick((function(){e.resizeObserver=new ResizeObserver(e.updateGrid),e.resizeObserver.observe(e.$refs.raceItem),e.updateGrid()}))},beforeUnmount:function(){this.resizeObserver.unobserve(this.$refs.raceItem)},methods:{toggleSubrace:function(){this.submenu.show=!this.submenu.show},updateGrid:function(){var e=this;this.$nextTick((function(){return e.$redrawVueMasonry("races-items")}))}}},G=n(89);const W=(0,G.Z)(O,[["render",S],["__scopeId","data-v-64e4eb62"]]);var j=W,q=n(9371),H=n(9158),L={name:"RacesView",components:{ContentLayout:H.Z,RaceItem:j,FilterItemCheckboxes:l.Z,FilterItemSource:u.Z,ListFilter:o.Z},beforeRouteEnter:function(){return(0,c.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(0,q.t)(),e.next=3,t.initRaceList();case 3:case"end":return e.stop()}}),e)})))()},computed:(0,i.Z)({},(0,m.rn)(q.t,["getRaces","getCurrentRace"]))};const K=(0,G.Z)(L,[["render",s]]);var U=K}}]);