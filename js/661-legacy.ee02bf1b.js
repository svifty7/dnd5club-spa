"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[661],{14800:function(e,t,n){n.d(t,{Z:function(){return w}});var o=n(73396),r=n(87139),i=n(49242),c={class:"section-header"},a={class:"section-header__body"},s={class:"section-header__title"},l={class:"section-header__title--text"},u={key:0,class:"section-header__subtitle"},p={key:0,class:"section-header__controls"},d={key:0,class:"section-header__controls--optional"},f={key:1,type:"button",class:"section-header__control--optional is-only-desktop"},h={key:1,class:"section-header__controls--main"};function y(e,t,n,y,m,v){var g=(0,o.up)("svg-icon");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",a,[(0,o._)("div",s,[(0,o._)("div",l,(0,r.zw)(n.title),1),n.copy?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"section-header__title--copy",onClick:t[0]||(t[0]=(0,i.iM)((function(){return v.copyText&&v.copyText.apply(v,arguments)}),["left","exact","prevent","stop"]))},[(0,o.Wm)(g,{"icon-name":"copy"})])):(0,o.kq)("",!0)]),n.subtitle?((0,o.wg)(),(0,o.iD)("div",u,(0,r.zw)(n.subtitle),1)):(0,o.kq)("",!0)]),v.hasControls?((0,o.wg)(),(0,o.iD)("div",p,[v.hasOptionalControls?((0,o.wg)(),(0,o.iD)("div",d,[n.print?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"section-header__control--optional is-only-desktop",onClick:t[1]||(t[1]=(0,i.iM)((function(){return v.openPrintWindow&&v.openPrintWindow.apply(v,arguments)}),["left","exact","prevent","stop"]))},[(0,o.Wm)(g,{"icon-name":"print"})])):(0,o.kq)("",!0),n.exportFoundry?((0,o.wg)(),(0,o.iD)("button",f,[(0,o.Wm)(g,{"icon-name":"export-foundry"})])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),v.hasMainControls?((0,o.wg)(),(0,o.iD)("div",h,[n.fullscreen?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"section-header__control--main is-only-desktop",onClick:t[2]||(t[2]=(0,i.iM)((function(t){return e.uiStore.setFullscreenState(!e.uiStore.getContentConfig.fullscreen)}),["left","exact","prevent"]))},[(0,o.Wm)(g,{"icon-name":e.uiStore.getContentConfig.fullscreen?"exit-fullscreen":"fullscreen"},null,8,["icon-name"])])):(0,o.kq)("",!0),n.close?((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",class:"section-header__control--main",onClick:t[3]||(t[3]=(0,i.iM)((function(e){return n.close()}),["left","exact","prevent","stop"]))},[(0,o.Wm)(g,{"icon-name":"close"})])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])}var m=n(48534),v=(n(36133),n(46986)),g=n(29254),k={name:"SectionHeader",components:{SvgIcon:v.Z},props:{title:{type:String,required:!0},subtitle:{type:String,default:""},copy:{type:String,default:""},print:{type:Boolean,default:!1},exportFoundry:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},close:{type:Function,default:void 0}},data:function(){return{uiStore:(0,g.H)()}},computed:{hasOptionalControls:function(){return!!this.print||!!this.exportFoundry},hasMainControls:function(){return!!this.close||!!this.fullscreen},hasControls:function(){return!!this.hasOptionalControls||!!this.hasMainControls}},methods:{copyText:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!navigator.clipboard){t.next=10;break}return t.prev=1,t.next=4,navigator.clipboard.writeText(e.copy);case 4:return t.abrupt("return");case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:n=document.body.appendChild(document.createElement("input")),n.value=e.copy,n.focus(),n.select(),document.execCommand("copy"),n.parentNode.removeChild(n);case 16:case"end":return t.stop()}}),t,null,[[1,7]])})))()},openPrintWindow:function(){window.print()}}},_=n(40089);const b=(0,_.Z)(k,[["render",y],["__scopeId","data-v-66896b56"]]);var w=b},71661:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});n(68309);var o=n(73396),r={class:"race-detail"};function i(e,t,n,i,c,a){var s=(0,o.up)("section-header");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(s,{title:a.currentRace.name.rus,subtitle:a.currentRace.name.eng,copy:a.urlForCopy,level:2,fullscreen:""},null,8,["title","subtitle","copy"])])}var c=n(48534),a=(n(36133),n(14800)),s=n(71318),l={name:"RaceDetail",components:{SectionHeader:a.Z},beforeRouteUpdate:function(e,t,n){var o=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.loading=!0,i=(0,s.t)(),i.deselectRace(),i.raceInfoQuery(e.params.raceName,null===(r=e.params)||void 0===r?void 0:r.subrace).then((function(){o.loading=!1,o.setTab(0),n()})).catch((function(e){console.error(e)}));case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{raceStore:(0,s.t)(),loading:!1}},computed:{currentRace:function(){return this.raceStore.getCurrentRace},urlForCopy:function(){return window.location.origin+this.$route.fullPath}},methods:{}},u=n(40089);const p=(0,u.Z)(l,[["render",i]]);var d=p}}]);