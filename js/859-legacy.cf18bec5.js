"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[859],{8847:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(9437),s={class:"section-header"},a={class:"section-header__body"},o={class:"section-header__title"},i={class:"section-header__title--text"},c={key:0,class:"section-header__subtitle"},l={key:0,class:"section-header__controls"},u={key:0,class:"section-header__controls--optional"},d={key:1,type:"button",class:"section-header__control--optional is-only-desktop"},p={key:1,class:"section-header__controls--main"};function f(e,t,n,f,_,m){var h=(0,r.up)("svg-icon");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",a,[(0,r._)("div",o,[(0,r._)("div",i,(0,r.zw)(n.title),1),n.copy?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"section-header__title--copy",onClick:t[0]||(t[0]=(0,r.iM)((function(){return m.copyText&&m.copyText.apply(m,arguments)}),["left","exact","prevent","stop"]))},[(0,r.Wm)(h,{"icon-name":"copy"})])):(0,r.kq)("",!0)]),n.subtitle?((0,r.wg)(),(0,r.iD)("div",c,(0,r.zw)(n.subtitle),1)):(0,r.kq)("",!0)]),m.hasControls?((0,r.wg)(),(0,r.iD)("div",l,[m.hasOptionalControls?((0,r.wg)(),(0,r.iD)("div",u,[n.print?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"section-header__control--optional is-only-desktop",onClick:t[1]||(t[1]=(0,r.iM)((function(){return m.openPrintWindow&&m.openPrintWindow.apply(m,arguments)}),["left","exact","prevent","stop"]))},[(0,r.Wm)(h,{"icon-name":"print"})])):(0,r.kq)("",!0),n.exportFoundry?((0,r.wg)(),(0,r.iD)("button",d,[(0,r.Wm)(h,{"icon-name":"export-foundry"})])):(0,r.kq)("",!0)])):(0,r.kq)("",!0),m.hasMainControls?((0,r.wg)(),(0,r.iD)("div",p,[n.fullscreen?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"section-header__control--main is-only-desktop",onClick:t[2]||(t[2]=(0,r.iM)((function(t){return e.uiStore.setFullscreenState(!e.uiStore.getContentConfig.fullscreen)}),["left","exact","prevent"]))},[(0,r.Wm)(h,{"icon-name":e.uiStore.getContentConfig.fullscreen?"exit-fullscreen":"fullscreen"},null,8,["icon-name"])])):(0,r.kq)("",!0),n.close?((0,r.wg)(),(0,r.iD)("button",{key:1,type:"button",class:"section-header__control--main",onClick:t[3]||(t[3]=(0,r.iM)((function(e){return n.close()}),["left","exact","prevent","stop"]))},[(0,r.Wm)(h,{"icon-name":"close"})])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])}var _=n(8534),m=(n(6133),n(5537)),h=n(5669),v={name:"SectionHeader",components:{SvgIcon:m.Z},props:{title:{type:String,required:!0},subtitle:{type:String,default:""},copy:{type:String,default:""},print:{type:Boolean,default:!1},exportFoundry:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},close:{type:Function,default:void 0}},data:function(){return{uiStore:(0,h.H)()}},computed:{hasOptionalControls:function(){return!!this.print||!!this.exportFoundry},hasMainControls:function(){return!!this.close||!!this.fullscreen},hasControls:function(){return!!this.hasOptionalControls||!!this.hasMainControls}},methods:{copyText:function(){var e=this;return(0,_.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!navigator.clipboard){t.next=10;break}return t.prev=1,t.next=4,navigator.clipboard.writeText(e.copy);case 4:return t.abrupt("return");case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:n=document.body.appendChild(document.createElement("input")),n.value=e.copy,n.focus(),n.select(),document.execCommand("copy"),n.parentNode.removeChild(n);case 16:case"end":return t.stop()}}),t,null,[[1,7]])})))()},openPrintWindow:function(){window.print()}}},b=n(89);const g=(0,b.Z)(v,[["render",f],["__scopeId","data-v-187985b8"]]);var y=g},5859:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});n(8309);var r=n(9437),s={key:0,class:"class-detail"},a={key:0,class:"class-detail__tabs"},o=["onClick"],i={class:"class-detail__tab_icon"},c={class:"class-detail__tab_name"},l={key:1,class:"class-detail__body"},u={ref:"classBody",class:"class-detail__body--inner"},d=["innerHTML"],p={key:1,class:"class-detail__images"},f=["src","alt"],_={class:"class-detail"},m={class:"class-detail__loader"},h={class:"class-detail__loader_img"},v=["src"];function b(e,t,b,g,y,k){var w,C=(0,r.up)("section-header"),x=(0,r.up)("svg-icon");return(0,r.wg)(),(0,r.iD)(r.HY,null,[!e.loading&&k.currentClass?((0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(C,{title:k.currentClass.name.rus,subtitle:k.currentClass.name.eng,copy:k.urlForCopy,close:k.closeClass,fullscreen:""},null,8,["title","subtitle","copy","close"]),e.tabs.length?((0,r.wg)(),(0,r.iD)("div",a,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.tabs,(function(t,n){return(0,r.wg)(),(0,r.iD)("button",{key:n,class:(0,r.C_)(["class-detail__tab",{"is-active":e.currentTab.name===t.name}]),onClick:(0,r.iM)((function(e){return k.setTab(n)}),["left","exact","prevent"])},[(0,r._)("span",i,[(0,r.Wm)(x,{"icon-name":t.icon},null,8,["icon-name"])]),(0,r._)("span",c,(0,r.zw)(t.name),1)],10,o)})),128))])):(0,r.kq)("",!0),null!==(w=e.currentTab)&&void 0!==w&&w.content?((0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",u,[e.currentTab.raw?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"class-detail__raw",innerHTML:e.currentTab.content},null,8,d)):"Изображения"===e.currentTab.name?((0,r.wg)(),(0,r.iD)("div",p,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.currentTab.content,(function(e,t){return(0,r.wg)(),(0,r.iD)("img",{key:t,src:e,alt:k.currentClass.name.rus,class:"class-detail__images_item"},null,8,f)})),128))])):(0,r.kq)("",!0)],512)])):(0,r.kq)("",!0)])):(0,r.kq)("",!0),(0,r.wy)((0,r._)("div",_,[(0,r._)("div",m,[(0,r._)("div",h,[(0,r._)("img",{src:n(594),alt:""},null,8,v)])])],512),[[r.F8,e.loading]])],64)}var g=n(5082),y=n(8534),k=(n(1249),n(6133),n(1351)),w=n(8847),C=n(5537),x=n(6318),D={name:"ClassDetail",components:{SvgIcon:C.Z,SectionHeader:w.Z},beforeRouteUpdate:function(e,t,n){var r,s=this;this.loading=!0;var a=(0,k.q)();a.deselectClass(),a.setClassInfo(e.params.className,null===(r=e.params)||void 0===r?void 0:r.classArchetype).then((0,y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.loading=!1,e.next=3,s.setTab(0);case 3:n();case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}))},data:function(){return{http:new x.Z,classesStore:(0,k.q)(),loading:!0,currentTab:void 0,tabs:[]}},computed:{urlForCopy:function(){return window.location.origin+this.$route.fullPath},currentClass:function(){return this.classesStore.getCurrentClass}},beforeMount:function(){var e=this;return(0,y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tabs=e.currentClass.tabs.map((function(e){return(0,g.Z)((0,g.Z)({},e),{},{content:e.content||void 0})})),t.next=3,e.setTab(0);case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{closeClass:function(){this.$router.push({name:"classes"})},setTab:function(e){var t=this;return(0,y.Z)(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,r=t.tabs[e],r.content){n.next=16;break}if(!r.raw){n.next=9;break}return n.next=6,t.http.rawGet(r.url);case 6:s=n.sent,n.next=12;break;case 9:return n.next=11,t.http.get(r.url);case 11:s=n.sent;case 12:if(200===s.status){n.next=15;break}return console.error(s.statusText),n.abrupt("return");case 15:r.content=s.data;case 16:t.currentTab=r,t.$nextTick((function(){t.$refs.classBody&&t.$refs.classBody.scrollIntoView({block:"start"})})),n.next=23;break;case 20:n.prev=20,n.t0=n["catch"](0),console.error(n.t0);case 23:case"end":return n.stop()}}),n,null,[[0,20]])})))()},updateGrid:function(){var e=this;this.$nextTick((function(){return e.$redrawVueMasonry("classes-detail-images")}))}}},T=n(89);const q=(0,T.Z)(D,[["render",b],["__scopeId","data-v-7a4169a7"]]);var S=q},594:function(e,t,n){e.exports=n.p+"img/loader.79102b2b.png"}}]);