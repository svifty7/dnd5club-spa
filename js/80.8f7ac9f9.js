"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[80],{7080:function(e,t,s){s.r(t),s.d(t,{default:function(){return ts}});var l=s(9199);const i=e=>((0,l.dD)("data-v-2113eb3a"),e=e(),(0,l.Cn)(),e),r={class:"classes"},n={class:"classes__list"},a=i((()=>(0,l._)("div",{class:"classes__title"}," Классы ",-1))),o={class:"classes__filter"},c={class:"classes__items"},h={class:"classes__items_body"},u={"transition-duration":"0.15s",class:"classes__items_body--inner","item-selector":".class-item",gutter:"16","percent-position":"true"};function d(e,t,s,i,d,p){const m=(0,l.up)("filter-item-source"),f=(0,l.up)("filter-item-checkboxes"),g=(0,l.up)("list-filter"),b=(0,l.up)("class-item"),v=(0,l.up)("perfect-scrollbar"),_=((0,l.up)("router-view"),(0,l.Q2)("masonry"));return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",n,[a,(0,l._)("div",o,[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m),(0,l.Wm)(f,{name:"Кость хитов"})])),_:1})]),(0,l._)("div",c,[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l._)("div",h,[(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.classList,((e,t)=>((0,l.wg)(),(0,l.j4)(b,{key:t,to:{name:"classDetail",params:{className:e.name.url}},"class-item":e},null,8,["to","class-item"])))),128))])),[[_,"classes-items"]])])])),_:1})])]),(0,l.kq)("",!0)])}const p={class:"class-item__content"},m={class:"class-item__main"},f=["href","onClick"],g=["innerHTML"],b={class:"class-item__body"},v={class:"class-item__body_row"},_={class:"class-item__name"},w={class:"class-item__name--rus"},y={class:"class-item__name--eng"},k={class:"class-item__book"},W={class:"class-item__body_row"},Y={class:"class-item__dice"},X={class:"class-item__arch-list_col"},L={key:0,class:"class-item__arch-type"},T={class:"class-item__arch-type_name"},H={class:"class-item__arch-type_items"},S={class:"class-item__arch-item_name"},R={class:"class-item__arch-item_book"},D={key:1,class:"class-item__arch-type"},E={class:"class-item__arch-type_name"},x={class:"class-item__arch-type_items"},C={class:"class-item__arch-item_name"},I={class:"class-item__arch-item_book"},M={key:0,class:"class-item__arch-list_col"},A={class:"class-item__arch-type"},P={class:"class-item__arch-type_name"},U={class:"class-item__arch-type_items"},$={class:"class-item__arch-item_name"},O={class:"class-item__arch-item_book"};function z(e,t,s,i,r,n){const a=(0,l.up)("svg-icon"),o=(0,l.up)("router-link"),c=(0,l.Q2)("masonry-tile");return"undefined"!==typeof s.classItem.name.url?((0,l.wg)(),(0,l.j4)(o,(0,l.dG)({key:0},e.$props,{custom:"",to:{name:"classDetail",params:{className:s.classItem.name.url}}}),{default:(0,l.w5)((({href:i,navigate:h,isActive:u})=>[(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",(0,l.dG)(e.$attrs,{ref:"classItem",class:["class-item",{"router-link-active":u}]}),[(0,l._)("div",p,[(0,l._)("div",m,[(0,l._)("a",{href:i,class:"class-item__link",onClick:(0,l.iM)((e=>h()),["left","prevent","exact"])},[(0,l._)("span",{class:"class-item__icon",innerHTML:s.classItem.svg},null,8,g),(0,l._)("span",b,[(0,l._)("span",v,[(0,l._)("span",_,[(0,l._)("span",w,(0,l.zw)(s.classItem.name.rus),1),(0,l._)("span",y," ["+(0,l.zw)(s.classItem.name.eng)+"] ",1)]),(0,l._)("span",k,(0,l.zw)(s.classItem.book),1)]),(0,l._)("span",W,[(0,l._)("span",Y,(0,l.zw)(s.classItem.dice),1)])])],8,f),n.hasArchetypes?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:(0,l.C_)(["class-item__toggle",{"is-active":r.submenu.show}]),onClick:t[0]||(t[0]=(0,l.iM)(((...e)=>n.toggleArch&&n.toggleArch(...e)),["left","exact","prevent"]))},[(0,l.Wm)(a,{"icon-name":"expand-down"})],2)):(0,l.kq)("",!0)]),n.hasArchetypes?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,l.C_)([{"is-active":n.isOpenedArchetypes},"class-item__arch-list"])},[(0,l._)("div",X,[s.classItem?.archetypes?.main?.list?.length?((0,l.wg)(),(0,l.iD)("div",L,[(0,l._)("div",T,(0,l.zw)(s.classItem.archetypes.main.name),1),(0,l._)("div",H,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.classItem.archetypes.main.list,((e,t)=>((0,l.wg)(),(0,l.j4)(o,{key:t,to:{name:"archetype",params:{className:s.classItem.name.url,archetype:e.name.url}},class:"class-item__arch-item"},{default:(0,l.w5)((()=>[(0,l._)("span",S,(0,l.zw)(e.name.rus),1),(0,l._)("span",R,(0,l.zw)(`${e.source} / ${e.name.eng}`),1)])),_:2},1032,["to"])))),128))])])):(0,l.kq)("",!0),s.classItem?.archetypes?.settings?.list?.length?((0,l.wg)(),(0,l.iD)("div",D,[(0,l._)("div",E,(0,l.zw)(s.classItem.archetypes.settings.name),1),(0,l._)("div",x,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.classItem.archetypes.settings.list,((e,t)=>((0,l.wg)(),(0,l.j4)(o,{key:t,to:{name:"archetype",params:{className:s.classItem.name.url,archetype:e.name.url}},class:"class-item__arch-item"},{default:(0,l.w5)((()=>[(0,l._)("span",C,(0,l.zw)(e.name.rus),1),(0,l._)("span",I,(0,l.zw)(`${e.source} / ${e.name.eng}`),1)])),_:2},1032,["to"])))),128))])])):(0,l.kq)("",!0)]),s.classItem?.archetypes?.homebrew?.list?.length?((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",A,[(0,l._)("div",P,(0,l.zw)(s.classItem.archetypes.homebrew.name),1),(0,l._)("div",U,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.classItem.archetypes.homebrew.list,((e,t)=>((0,l.wg)(),(0,l.j4)(o,{key:t,to:{name:"archetype",params:{className:s.classItem.name.url,archetype:e.name.url}},class:"class-item__arch-item"},{default:(0,l.w5)((()=>[(0,l._)("span",$,(0,l.zw)(e.name.rus),1),(0,l._)("span",O,(0,l.zw)(`${e.source} / ${e.name.eng}`),1)])),_:2},1032,["to"])))),128))])])])):(0,l.kq)("",!0)],2)):(0,l.kq)("",!0)])],16)),[[c]])])),_:1},16,["to"])):(0,l.kq)("",!0)}var N=s(3845),B=s(678),q={name:"ClassItem",components:{SvgIcon:N.Z},props:{classItem:{type:Object,default:()=>null,required:!0},...B.rH.props},data(){return{submenu:{show:!1},resizeObserver:null}},computed:{hasArchetypes(){return!!this.classItem?.archetypes?.main?.list?.length||!!this.classItem?.archetypes?.settings?.list?.length||!!this.classItem?.archetypes?.homebrew?.list?.length},isOpenedArchetypes(){return this.$route.params?.className===this.classItem.name?.url||this.submenu.show}},watch:{submenu:{deep:!0,handler(){this.updateGrid()}},isOpenedArchetypes(){this.updateGrid()}},mounted(){this.$nextTick((()=>{this.resizeObserver=new ResizeObserver(this.updateGrid),this.resizeObserver.observe(this.$refs.classItem),this.updateGrid()}))},beforeUnmount(){this.resizeObserver.unobserve(this.$refs.classItem)},methods:{toggleArch(){this.submenu.show=!this.submenu.show},updateGrid(){this.$nextTick((()=>this.$redrawVueMasonry("classes-items")))}}},j=s(89);const K=(0,j.Z)(q,[["render",z],["__scopeId","data-v-70d0c086"]]);var F=K;const G=e=>((0,l.dD)("data-v-d66641ee"),e=e(),(0,l.Cn)(),e),Z={class:"filter"},Q={class:"filter__body"},V={class:"filter__search"},J={class:"filter__search_field"},ee={class:"filter__search_field_icon"},te=G((()=>(0,l._)("span",null,"Фильтр",-1))),se={key:0,class:"filter__dropdown"},le={class:"filter__dropdown_body"};function ie(e,t,s,i,r,n){const a=(0,l.up)("svg-icon"),o=(0,l.up)("perfect-scrollbar"),c=(0,l.Q2)("tooltip");return(0,l.wg)(),(0,l.iD)("div",Z,[(0,l._)("div",Q,[(0,l._)("div",V,[(0,l._)("label",J,[(0,l._)("span",ee,[(0,l.Wm)(a,{"icon-name":"search"})]),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),type:"text",placeholder:"Поиск...",onChange:t[1]||(t[1]=(0,l.iM)((t=>e.$emit("search")),["prevent"]))},null,544),[[l.nr,e.search]])]),e.search?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"filter__search_clear",onClick:t[2]||(t[2]=(0,l.iM)((t=>e.search=""),["left","exact","prevent"]))},[(0,l.Wm)(a,{"icon-name":"close"})])):(0,l.kq)("",!0)]),(0,l._)("button",{type:"button",class:(0,l.C_)(["filter__button",{"is-opened":e.filter.show}]),onClick:t[3]||(t[3]=(0,l.iM)((t=>e.filter.show=!e.filter.show),["left","exact","prevent"]))},[(0,l.Wm)(a,{"icon-name":"filter","stroke-enable":!e.filter.show,"fill-enable":e.filter.show},null,8,["stroke-enable","fill-enable"]),te],2),(0,l.wy)(((0,l.wg)(),(0,l.iD)("button",{type:"button",class:"filter__button",onClick:t[4]||(t[4]=(0,l.iM)((t=>e.$emit("clear-filter")),["left","exact","prevent"]))},[(0,l.Wm)(a,{"icon-name":"clear-filter"})])),[[c,"Стереть фильтр",void 0,{"bottom-end":!0}]])]),e.filter.show?((0,l.wg)(),(0,l.iD)("div",se,[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l._)("div",le,[(0,l.WI)(e.$slots,"default",{},void 0,!0)])])),_:3})])):(0,l.kq)("",!0)])}s(1703);
/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */
function re(e){return getComputedStyle(e)}function ne(e,t){for(var s in t){var l=t[s];"number"===typeof l&&(l+="px"),e.style[s]=l}return e}function ae(e){var t=document.createElement("div");return t.className=e,t}var oe="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function ce(e,t){if(!oe)throw new Error("No element matching method supported");return oe.call(e,t)}function he(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function ue(e,t){return Array.prototype.filter.call(e.children,(function(e){return ce(e,t)}))}var de={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},pe={x:null,y:null};function me(e,t){var s=e.element.classList,l=de.state.scrolling(t);s.contains(l)?clearTimeout(pe[t]):s.add(l)}function fe(e,t){pe[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(de.state.scrolling(t))}),e.settings.scrollingThreshold)}function ge(e,t){me(e,t),fe(e,t)}var be=function(e){this.element=e,this.handlers={}},ve={isEmpty:{configurable:!0}};be.prototype.bind=function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},be.prototype.unbind=function(e,t){var s=this;this.handlers[e]=this.handlers[e].filter((function(l){return!(!t||l===t)||(s.element.removeEventListener(e,l,!1),!1)}))},be.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},ve.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(be.prototype,ve);var _e=function(){this.eventElements=[]};function we(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function ye(e,t,s,l,i){var r;if(void 0===l&&(l=!0),void 0===i&&(i=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}ke(e,s,r,l,i)}function ke(e,t,s,l,i){var r=s[0],n=s[1],a=s[2],o=s[3],c=s[4],h=s[5];void 0===l&&(l=!0),void 0===i&&(i=!1);var u=e.element;e.reach[o]=null,u[a]<1&&(e.reach[o]="start"),u[a]>e[r]-e[n]-1&&(e.reach[o]="end"),t&&(u.dispatchEvent(we("ps-scroll-"+o)),t<0?u.dispatchEvent(we("ps-scroll-"+c)):t>0&&u.dispatchEvent(we("ps-scroll-"+h)),l&&ge(e,o)),e.reach[o]&&(t||i)&&u.dispatchEvent(we("ps-"+o+"-reach-"+e.reach[o]))}function We(e){return parseInt(e,10)||0}function Ye(e){return ce(e,"input,[contenteditable]")||ce(e,"select,[contenteditable]")||ce(e,"textarea,[contenteditable]")||ce(e,"button,[contenteditable]")}function Xe(e){var t=re(e);return We(t.width)+We(t.paddingLeft)+We(t.paddingRight)+We(t.borderLeftWidth)+We(t.borderRightWidth)}_e.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new be(e),this.eventElements.push(t)),t},_e.prototype.bind=function(e,t,s){this.eventElement(e).bind(t,s)},_e.prototype.unbind=function(e,t,s){var l=this.eventElement(e);l.unbind(t,s),l.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(l),1)},_e.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},_e.prototype.once=function(e,t,s){var l=this.eventElement(e),i=function(e){l.unbind(t,i),s(e)};l.bind(t,i)};var Le={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function Te(e){var t=e.element,s=Math.floor(t.scrollTop),l=t.getBoundingClientRect();e.containerWidth=Math.round(l.width),e.containerHeight=Math.round(l.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(ue(t,de.element.rail("x")).forEach((function(e){return he(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(ue(t,de.element.rail("y")).forEach((function(e){return he(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=He(e,We(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=We((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=He(e,We(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=We(s*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),Se(t,e),e.scrollbarXActive?t.classList.add(de.state.active("x")):(t.classList.remove(de.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(de.state.active("y")):(t.classList.remove(de.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function He(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function Se(e,t){var s={width:t.railXWidth},l=Math.floor(e.scrollTop);t.isRtl?s.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:s.left=e.scrollLeft,t.isScrollbarXUsingBottom?s.bottom=t.scrollbarXBottom-l:s.top=t.scrollbarXTop+l,ne(t.scrollbarXRail,s);var i={top:l,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft,ne(t.scrollbarYRail,i),ne(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),ne(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function Re(e){e.element;e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var s=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top,l=s>e.scrollbarYTop?1:-1;e.element.scrollTop+=l*e.containerHeight,Te(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var s=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left,l=s>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=l*e.containerWidth,Te(e),t.stopPropagation()}))}function De(e){Ee(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Ee(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function Ee(e,t){var s=t[0],l=t[1],i=t[2],r=t[3],n=t[4],a=t[5],o=t[6],c=t[7],h=t[8],u=e.element,d=null,p=null,m=null;function f(t){t.touches&&t.touches[0]&&(t[i]=t.touches[0].pageY),u[o]=d+m*(t[i]-p),me(e,c),Te(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function g(){fe(e,c),e[h].classList.remove(de.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",f)}function b(t,n){d=u[o],n&&t.touches&&(t[i]=t.touches[0].pageY),p=t[i],m=(e[l]-e[s])/(e[r]-e[a]),n?e.event.bind(e.ownerDocument,"touchmove",f):(e.event.bind(e.ownerDocument,"mousemove",f),e.event.once(e.ownerDocument,"mouseup",g),t.preventDefault()),e[h].classList.add(de.state.clicking),t.stopPropagation()}e.event.bind(e[n],"mousedown",(function(e){b(e)})),e.event.bind(e[n],"touchstart",(function(e){b(e,!0)}))}function xe(e){var t=e.element,s=function(){return ce(t,":hover")},l=function(){return ce(e.scrollbarX,":focus")||ce(e.scrollbarY,":focus")};function i(s,l){var i=Math.floor(t.scrollTop);if(0===s){if(!e.scrollbarYActive)return!1;if(0===i&&l>0||i>=e.contentHeight-e.containerHeight&&l<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===l){if(!e.scrollbarXActive)return!1;if(0===r&&s<0||r>=e.contentWidth-e.containerWidth&&s>0)return!e.settings.wheelPropagation}return!0}e.event.bind(e.ownerDocument,"keydown",(function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&(s()||l())){var n=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else while(n.shadowRoot)n=n.shadowRoot.activeElement;if(Ye(n))return}var a=0,o=0;switch(r.which){case 37:a=r.metaKey?-e.contentWidth:r.altKey?-e.containerWidth:-30;break;case 38:o=r.metaKey?e.contentHeight:r.altKey?e.containerHeight:30;break;case 39:a=r.metaKey?e.contentWidth:r.altKey?e.containerWidth:30;break;case 40:o=r.metaKey?-e.contentHeight:r.altKey?-e.containerHeight:-30;break;case 32:o=r.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:o=e.containerHeight;break;case 34:o=-e.containerHeight;break;case 36:o=e.contentHeight;break;case 35:o=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==a||e.settings.suppressScrollY&&0!==o||(t.scrollTop-=o,t.scrollLeft+=a,Te(e),i(a,o)&&r.preventDefault())}}))}function Ce(e){var t=e.element;function s(s,l){var i,r=Math.floor(t.scrollTop),n=0===t.scrollTop,a=r+t.offsetHeight===t.scrollHeight,o=0===t.scrollLeft,c=t.scrollLeft+t.offsetWidth===t.scrollWidth;return i=Math.abs(l)>Math.abs(s)?n||a:o||c,!i||!e.settings.wheelPropagation}function l(e){var t=e.deltaX,s=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof s||(t=-1*e.wheelDeltaX/6,s=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,s*=10),t!==t&&s!==s&&(t=0,s=e.wheelDelta),e.shiftKey?[-s,-t]:[t,s]}function i(e,s,l){if(!Le.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;var i=e;while(i&&i!==t){if(i.classList.contains(de.element.consuming))return!0;var r=re(i);if(l&&r.overflowY.match(/(scroll|auto)/)){var n=i.scrollHeight-i.clientHeight;if(n>0&&(i.scrollTop>0&&l<0||i.scrollTop<n&&l>0))return!0}if(s&&r.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&s<0||i.scrollLeft<a&&s>0))return!0}i=i.parentNode}return!1}function r(r){var n=l(r),a=n[0],o=n[1];if(!i(r.target,a,o)){var c=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(o?t.scrollTop-=o*e.settings.wheelSpeed:t.scrollTop+=a*e.settings.wheelSpeed,c=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(a?t.scrollLeft+=a*e.settings.wheelSpeed:t.scrollLeft-=o*e.settings.wheelSpeed,c=!0):(t.scrollTop-=o*e.settings.wheelSpeed,t.scrollLeft+=a*e.settings.wheelSpeed),Te(e),c=c||s(a,o),c&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",r):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",r)}function Ie(e){if(Le.supportsTouch||Le.supportsIePointer){var t=e.element,s={},l=0,i={},r=null;Le.supportsTouch?(e.event.bind(t,"touchstart",h),e.event.bind(t,"touchmove",d),e.event.bind(t,"touchend",p)):Le.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",h),e.event.bind(t,"pointermove",d),e.event.bind(t,"pointerup",p)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",h),e.event.bind(t,"MSPointerMove",d),e.event.bind(t,"MSPointerUp",p)))}function n(s,l){var i=Math.floor(t.scrollTop),r=t.scrollLeft,n=Math.abs(s),a=Math.abs(l);if(a>n){if(l<0&&i===e.contentHeight-e.containerHeight||l>0&&0===i)return 0===window.scrollY&&l>0&&Le.isChrome}else if(n>a&&(s<0&&r===e.contentWidth-e.containerWidth||s>0&&0===r))return!0;return!0}function a(s,l){t.scrollTop-=l,t.scrollLeft-=s,Te(e)}function o(e){return e.targetTouches?e.targetTouches[0]:e}function c(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function h(e){if(c(e)){var t=o(e);s.pageX=t.pageX,s.pageY=t.pageY,l=(new Date).getTime(),null!==r&&clearInterval(r)}}function u(e,s,l){if(!t.contains(e))return!1;var i=e;while(i&&i!==t){if(i.classList.contains(de.element.consuming))return!0;var r=re(i);if(l&&r.overflowY.match(/(scroll|auto)/)){var n=i.scrollHeight-i.clientHeight;if(n>0&&(i.scrollTop>0&&l<0||i.scrollTop<n&&l>0))return!0}if(s&&r.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&s<0||i.scrollLeft<a&&s>0))return!0}i=i.parentNode}return!1}function d(e){if(c(e)){var t=o(e),r={pageX:t.pageX,pageY:t.pageY},h=r.pageX-s.pageX,d=r.pageY-s.pageY;if(u(e.target,h,d))return;a(h,d),s=r;var p=(new Date).getTime(),m=p-l;m>0&&(i.x=h/m,i.y=d/m,l=p),n(h,d)&&e.preventDefault()}}function p(){e.settings.swipeEasing&&(clearInterval(r),r=setInterval((function(){e.isInitialized?clearInterval(r):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(r):e.element?(a(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(r):clearInterval(r)}),10))}}var Me=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},Ae={"click-rail":Re,"drag-thumb":De,keyboard:xe,wheel:Ce,touch:Ie},Pe=function(e,t){var s=this;if(void 0===t&&(t={}),"string"===typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var l in this.element=e,e.classList.add(de.main),this.settings=Me(),t)this.settings[l]=t[l];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i=function(){return e.classList.add(de.state.focus)},r=function(){return e.classList.remove(de.state.focus)};this.isRtl="rtl"===re(e).direction,!0===this.isRtl&&e.classList.add(de.rtl),this.isNegativeScroll=function(){var t=e.scrollLeft,s=null;return e.scrollLeft=-1,s=e.scrollLeft<0,e.scrollLeft=t,s}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new _e,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=ae(de.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=ae(de.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",i),this.event.bind(this.scrollbarX,"blur",r),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var n=re(this.scrollbarXRail);this.scrollbarXBottom=parseInt(n.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=We(n.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=We(n.borderLeftWidth)+We(n.borderRightWidth),ne(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=We(n.marginLeft)+We(n.marginRight),ne(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=ae(de.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=ae(de.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",i),this.event.bind(this.scrollbarY,"blur",r),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var a=re(this.scrollbarYRail);this.scrollbarYRight=parseInt(a.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=We(a.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?Xe(this.scrollbarY):null,this.railBorderYWidth=We(a.borderTopWidth)+We(a.borderBottomWidth),ne(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=We(a.marginTop)+We(a.marginBottom),ne(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return Ae[e](s)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return s.onScroll(e)})),Te(this)};Pe.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,ne(this.scrollbarXRail,{display:"block"}),ne(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=We(re(this.scrollbarXRail).marginLeft)+We(re(this.scrollbarXRail).marginRight),this.railYMarginHeight=We(re(this.scrollbarYRail).marginTop)+We(re(this.scrollbarYRail).marginBottom),ne(this.scrollbarXRail,{display:"none"}),ne(this.scrollbarYRail,{display:"none"}),Te(this),ye(this,"top",0,!1,!0),ye(this,"left",0,!1,!0),ne(this.scrollbarXRail,{display:""}),ne(this.scrollbarYRail,{display:""}))},Pe.prototype.onScroll=function(e){this.isAlive&&(Te(this),ye(this,"top",this.element.scrollTop-this.lastScrollTop),ye(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},Pe.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),he(this.scrollbarX),he(this.scrollbarY),he(this.scrollbarXRail),he(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},Pe.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var Ue=Pe;const $e=["scroll","ps-scroll-y","ps-scroll-x","ps-scroll-up","ps-scroll-down","ps-scroll-left","ps-scroll-right","ps-y-reach-start","ps-y-reach-end","ps-x-reach-start","ps-x-reach-end"];var Oe={name:"PerfectScrollbar",props:{options:{type:Object,required:!1,default:()=>{}},tag:{type:String,required:!1,default:"div"},watchOptions:{type:Boolean,required:!1,default:!1}},emits:$e,data(){return{ps:null}},watch:{watchOptions(e){!e&&this.watcher?this.watcher():this.createWatcher()}},mounted(){this.create(),this.watchOptions&&this.createWatcher()},updated(){this.$nextTick((()=>{this.update()}))},beforeUnmount(){this.destroy()},methods:{create(){this.ps&&this.$isServer||(this.ps=new Ue(this.$el,this.options),$e.forEach((e=>{this.ps.element.addEventListener(e,(t=>this.$emit(e,t)))})))},createWatcher(){this.watcher=this.$watch("options",(()=>{this.destroy(),this.create()}),{deep:!0})},update(){this.ps&&this.ps.update()},destroy(){this.ps&&(this.ps.destroy(),this.ps=null)}},render(){return(0,l.h)(this.tag,{class:"ps"},this.$slots.default&&this.$slots.default())}},ze={name:"ListFilter",components:{SvgIcon:N.Z,PerfectScrollbar:Oe},emits:["clear-filter","search"],data:()=>({search:"",filter:{show:!1}})};const Ne=(0,j.Z)(ze,[["render",ie],["__scopeId","data-v-d66641ee"]]);var Be=Ne;const qe=e=>((0,l.dD)("data-v-3b4a1800"),e=e(),(0,l.Cn)(),e),je={class:"filter-item"},Ke={class:"filter-item__header"},Fe=qe((()=>(0,l._)("div",{class:"filter-item__name"}," Источники ",-1))),Ge={type:"button",class:"filter-item__button filter-item__button--reset"},Ze={key:0,class:"filter-item__body"},Qe={class:"filter-item__source-group"},Ve={class:"filter-item__source-group_body"},Je=(0,l.Uk)(" PHB "),et=(0,l.Uk)(" TCE "),tt=(0,l.Uk)(" DMG "),st=(0,l.Uk)(" XGE "),lt=(0,l.Uk)(" FTD "),it={class:"filter-item__source-group"},rt={class:"filter-item__source-group_head"},nt=qe((()=>(0,l._)("div",{class:"filter-item__source-group_name"}," Сеттинги ",-1))),at={class:"filter-item__source-group_body"},ot=(0,l.Uk)(" PHB "),ct=(0,l.Uk)(" TCE "),ht=(0,l.Uk)(" DMG "),ut=(0,l.Uk)(" XGE "),dt=(0,l.Uk)(" FTD "),pt={class:"filter-item__source-group"},mt={class:"filter-item__source-group_head"},ft=qe((()=>(0,l._)("div",{class:"filter-item__source-group_name"}," Homebrew ",-1))),gt={class:"filter-item__source-group_body"},bt=(0,l.Uk)(" PHB "),vt=(0,l.Uk)(" TCE "),_t=(0,l.Uk)(" DMG "),wt=(0,l.Uk)(" XGE "),yt=(0,l.Uk)(" FTD ");function kt(e,t,s,i,r,n){const a=(0,l.up)("svg-icon"),o=(0,l.up)("field-checkbox");return(0,l.wg)(),(0,l.iD)("div",je,[(0,l._)("div",Ke,[(0,l._)("div",{class:"filter-item__trigger",onClick:t[1]||(t[1]=(0,l.iM)((t=>e.opened=!e.opened),["left","exact","prevent"]))},[Fe,(0,l._)("button",{type:"button",class:"filter-item__button filter-item__button--toggle",onClick:t[0]||(t[0]=(0,l.iM)((t=>e.opened=!e.opened),["self","left","exact","prevent"]))},[(0,l.Wm)(a,{"icon-name":"arrow-stroke"})])]),(0,l._)("button",Ge,[(0,l.Wm)(a,{"icon-name":"close"})])]),e.opened?((0,l.wg)(),(0,l.iD)("div",Ze,[(0,l._)("div",Qe,[(0,l._)("div",Ve,[(0,l.Wm)(o,{tooltip:"Player's Handbook"},{default:(0,l.w5)((()=>[Je])),_:1}),(0,l.Wm)(o,{tooltip:"Tasha's Cauldron of Everything"},{default:(0,l.w5)((()=>[et])),_:1}),(0,l.Wm)(o,{tooltip:"Dungeon master's guide"},{default:(0,l.w5)((()=>[tt])),_:1}),(0,l.Wm)(o,{tooltip:"Xanathar's Guide to Everything"},{default:(0,l.w5)((()=>[st])),_:1}),(0,l.Wm)(o,{tooltip:"Fizban's Treasury of Dragons"},{default:(0,l.w5)((()=>[lt])),_:1})])]),(0,l._)("div",it,[(0,l._)("div",rt,[nt,(0,l.Wm)(o,{type:"toggle"})]),(0,l._)("div",at,[(0,l.Wm)(o,{tooltip:"Player's Handbook"},{default:(0,l.w5)((()=>[ot])),_:1}),(0,l.Wm)(o,{tooltip:"Tasha's Cauldron of Everything"},{default:(0,l.w5)((()=>[ct])),_:1}),(0,l.Wm)(o,{tooltip:"Dungeon master's guide"},{default:(0,l.w5)((()=>[ht])),_:1}),(0,l.Wm)(o,{tooltip:"Xanathar's Guide to Everything"},{default:(0,l.w5)((()=>[ut])),_:1}),(0,l.Wm)(o,{tooltip:"Fizban's Treasury of Dragons"},{default:(0,l.w5)((()=>[dt])),_:1})])]),(0,l._)("div",pt,[(0,l._)("div",mt,[ft,(0,l.Wm)(o,{type:"toggle"})]),(0,l._)("div",gt,[(0,l.Wm)(o,{tooltip:"Player's Handbook"},{default:(0,l.w5)((()=>[bt])),_:1}),(0,l.Wm)(o,{tooltip:"Tasha's Cauldron of Everything"},{default:(0,l.w5)((()=>[vt])),_:1}),(0,l.Wm)(o,{tooltip:"Dungeon master's guide"},{default:(0,l.w5)((()=>[_t])),_:1}),(0,l.Wm)(o,{tooltip:"Xanathar's Guide to Everything"},{default:(0,l.w5)((()=>[wt])),_:1}),(0,l.Wm)(o,{tooltip:"Fizban's Treasury of Dragons"},{default:(0,l.w5)((()=>[yt])),_:1})])])])):(0,l.kq)("",!0)])}const Wt=e=>((0,l.dD)("data-v-4ea16218"),e=e(),(0,l.Cn)(),e),Yt={key:0,class:"field-checkbox field-checkbox--crumb"},Xt=["value"],Lt={class:"field-checkbox__label"},Tt={key:1,class:"field-checkbox field-checkbox--toggle"},Ht=["value"],St=Wt((()=>(0,l._)("span",{class:"field-checkbox__faker"},null,-1))),Rt={key:0,class:"field-checkbox__label"};function Dt(e,t,s,i,r,n){const a=(0,l.Q2)("tooltip");return"crumb"===s.type?((0,l.wg)(),(0,l.iD)("label",Yt,[(0,l._)("input",{type:"checkbox",value:s.value,onChange:t[0]||(t[0]=(0,l.iM)((t=>e.$emit("change")),["prevent"]))},null,40,Xt),(0,l.wy)(((0,l.wg)(),(0,l.iD)("span",Lt,[(0,l.WI)(e.$slots,"default",{},void 0,!0)])),[[a,s.tooltip]])])):"toggle"===s.type?((0,l.wg)(),(0,l.iD)("label",Tt,[(0,l._)("input",{type:"checkbox",value:s.value,onChange:t[1]||(t[1]=(0,l.iM)((t=>e.$emit("change")),["prevent"]))},null,40,Ht),St,e.$slots.default?((0,l.wg)(),(0,l.iD)("span",Rt,[(0,l.WI)(e.$slots,"default",{},void 0,!0)])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)}var Et={name:"FieldCheckbox",props:{value:{type:Boolean,default:!1},type:{type:String,default:"crumb",validator:e=>["crumb","toggle"].includes(e)},tooltip:{type:String,default:""}},emits:["change"]};const xt=(0,j.Z)(Et,[["render",Dt],["__scopeId","data-v-4ea16218"]]);var Ct=xt,It={name:"FilterItemSource",components:{FieldCheckbox:Ct,SvgIcon:N.Z},props:{options:{type:Object,default:()=>({})}},data:()=>({opened:!0})};const Mt=(0,j.Z)(It,[["render",kt],["__scopeId","data-v-3b4a1800"]]);var At=Mt;const Pt={class:"filter-item"},Ut={class:"filter-item__header"},$t={class:"filter-item__name"},Ot={type:"button",class:"filter-item__button filter-item__button--reset"},zt={key:0,class:"filter-item__body"},Nt=(0,l.Uk)(" 1d6 "),Bt=(0,l.Uk)(" 1d8 "),qt=(0,l.Uk)(" 1d10 "),jt=(0,l.Uk)(" 1d12 ");function Kt(e,t,s,i,r,n){const a=(0,l.up)("svg-icon"),o=(0,l.up)("field-checkbox");return(0,l.wg)(),(0,l.iD)("div",Pt,[(0,l._)("div",Ut,[(0,l._)("div",{class:"filter-item__trigger",onClick:t[1]||(t[1]=(0,l.iM)((t=>e.opened=!e.opened),["left","exact","prevent"]))},[(0,l._)("div",$t,(0,l.zw)(s.name),1),(0,l._)("button",{type:"button",class:"filter-item__button filter-item__button--toggle",onClick:t[0]||(t[0]=(0,l.iM)((t=>e.opened=!e.opened),["self","left","exact","prevent"]))},[(0,l.Wm)(a,{"icon-name":"arrow-stroke"})])]),(0,l._)("button",Ot,[(0,l.Wm)(a,{"icon-name":"close"})])]),e.opened?((0,l.wg)(),(0,l.iD)("div",zt,[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[Nt])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[Bt])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[qt])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[jt])),_:1})])):(0,l.kq)("",!0)])}var Ft={name:"FilterItemCheckboxes",components:{FieldCheckbox:Ct,SvgIcon:N.Z},props:{name:{type:String,default:"",required:!0},options:{type:Object,default:()=>({})}},data:()=>({opened:!1})};const Gt=(0,j.Z)(Ft,[["render",Kt],["__scopeId","data-v-94639cda"]]);var Zt=Gt,Qt=s(1783),Vt=s(5543),Jt={name:"ClassesView",components:{FilterItemCheckboxes:Zt,FilterItemSource:At,ListFilter:Be,ClassItem:F,PerfectScrollbar:Oe},computed:{...(0,Vt.rn)(Qt.q,{classList:"computedClassList",currentClass(e){return e.computedSelectedClass}})},beforeMount(){this.getClassList()},methods:{...(0,Vt.nv)(Qt.q,{getClassList:"getClassList"})}};const es=(0,j.Z)(Jt,[["render",d],["__scopeId","data-v-2113eb3a"]]);var ts=es}}]);