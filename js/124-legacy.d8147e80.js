"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[124],{64771:function(e,t,r){r.d(t,{Z:function(){return f}});r(57327),r(41539);var n=r(73396),s=r(87139),a={class:"content-layout__body"},i={class:"content-layout__list"},c={key:0,class:"content-layout__filter"},u={class:"content-layout__items"},o={key:0,class:"content-layout__selected"};function l(e,t,r,l,m,_){var d=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",{class:(0,s.C_)(["content-layout",_.layoutClasses])},[(0,n._)("div",a,[(0,n._)("div",i,[e.$slots.filter?((0,n.wg)(),(0,n.iD)("div",c,[(0,n.WI)(e.$slots,"filter",{},void 0,!0)])):(0,n.kq)("",!0),(0,n._)("div",u,[(0,n.WI)(e.$slots,"items",{},void 0,!0)])]),r.showRightSide?((0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(d)])):(0,n.kq)("",!0)])],2)}var m=r(89494),_={name:"ContentLayout",props:{showRightSide:{type:Boolean,default:!1}},data:function(){return{uiStore:(0,m.H)()}},computed:{layoutClasses:function(){return{"is-showed-right-side":this.showRightSide,"is-fullscreen":this.uiStore.getContentConfig.fullscreen,"is-small":!this.uiStore.getContentConfig.fullscreen}}}},d=r(40089);const p=(0,d.Z)(_,[["render",l],["__scopeId","data-v-60271a05"]]);var f=p},4925:function(e,t,r){r.r(t),r.d(t,{default:function(){return F}});r(68309);var n=r(73396),s={"transition-duration":"0.15s",class:"races__items_body--inner","item-selector":".race-item",gutter:"16","percent-position":"true","horizontal-order":"true"};function a(e,t,r,a,i,c){var u=(0,n.up)("filter-item-source"),o=(0,n.up)("filter-item-checkboxes"),l=(0,n.up)("list-filter"),m=(0,n.up)("race-item"),_=(0,n.up)("content-layout"),d=(0,n.Q2)("masonry");return(0,n.wg)(),(0,n.j4)(_,{"show-right-side":"raceDetail"===e.$route.name},{filter:(0,n.w5)((function(){return[(0,n.Wm)(l,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(u),(0,n.Wm)(o,{name:"Кость хитов"})]})),_:1})]})),items:(0,n.w5)((function(){return[(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",s,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.getRaces,(function(e,t){return(0,n.wg)(),(0,n.j4)(m,{key:t,"race-item":e},null,8,["race-item"])})),128))])),[[d,"races-items"]])]})),_:1},8,["show-right-side"])}var i=r(95082),c=r(48534),u=(r(36133),r(86693)),o=r(6095),l=r(34821),m=r(65543),_=r(71318),d=r(64771),p=r(49242),f=r(87139),w={class:"race-item__content"},h={class:"race-item__main"},v=["href","onClick"],b={class:"race-item__icon"},g={class:"race-item__body"},y={class:"race-item__body_row"},k={class:"race-item__name"},I={class:"race-item__name--rus"},C={class:"race-item__name--eng"},D={class:"race-item__book"},S={class:"race-item__body_row"},R={class:"race-item__abilities"},z={class:"race-item__subrace-type_name"},$={class:"race-item__subrace-type_items"},Z={class:"race-item__subrace-item_name"},x={class:"race-item__subrace-item_book"},O=(0,n.Uk)(" / ");function W(e,t,r,s,a,i){var c=(0,n.up)("svg-icon"),u=(0,n.up)("router-link"),o=(0,n.Q2)("tooltip"),l=(0,n.Q2)("masonry-tile");return"undefined"!==typeof r.raceItem.url?((0,n.wg)(),(0,n.j4)(u,(0,n.dG)({key:0},e.$props,{custom:"",to:{path:r.raceItem.url}}),{default:(0,n.w5)((function(s){var m=s.href,_=s.navigate,d=s.isActive;return[(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",(0,n.dG)({ref:"raceItem"},e.$attrs,{class:["race-item",i.getParentClasses(d)]}),[(0,n._)("div",w,[(0,n._)("div",h,[(0,n._)("a",{href:m,class:"race-item__link",onClick:(0,p.iM)((function(e){return _()}),["left","prevent","exact"])},[(0,n._)("span",b,[(0,n.Wm)(c,{"icon-name":r.raceItem.icon},null,8,["icon-name"])]),(0,n._)("span",g,[(0,n._)("span",y,[(0,n._)("span",k,[(0,n._)("span",I,(0,f.zw)(r.raceItem.name.rus),1),(0,n._)("span",C," ["+(0,f.zw)(r.raceItem.name.eng)+"] ",1)]),(0,n.wy)(((0,n.wg)(),(0,n.iD)("span",D,[(0,n.Uk)((0,f.zw)(r.raceItem.source.shortName),1)])),[[o,{content:r.raceItem.source.name}]])]),(0,n._)("span",S,[(0,n._)("span",R,(0,f.zw)(r.raceItem.abilities),1)])])],8,v),i.hasSubraces?(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:(0,f.C_)(["race-item__toggle",{"is-active":a.submenu.show}]),onClick:t[0]||(t[0]=(0,p.iM)((function(){return i.toggleSubrace&&i.toggleSubrace.apply(i,arguments)}),["left","exact","prevent"]))},[(0,n.Wm)(c,{"icon-name":"expand-down"})],2)),[[o,{content:"Разновидности"},void 0,{left:!0}]]):(0,n.kq)("",!0)]),i.hasSubraces?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,f.C_)([{"is-active":i.isOpenedSubraces},"race-item__subrace-list"])},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.raceItem.subraces,(function(e,t){return(0,n.wg)(),(0,n.iD)("div",{key:t,class:"race-item__subrace-list_col"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,(function(e,t){return(0,n.wg)(),(0,n.iD)("div",{key:t,class:"race-item__subrace-type"},[(0,n._)("div",z,(0,f.zw)(e.name),1),(0,n._)("div",$,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.list,(function(e,t){return(0,n.wg)(),(0,n.j4)(u,{key:t,to:{path:e.url},class:"race-item__subrace-item"},{default:(0,n.w5)((function(){return[(0,n._)("span",Z,(0,f.zw)(e.name.rus),1),(0,n._)("span",x,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("span",null,[(0,n.Uk)((0,f.zw)(e.source.shortName),1)])),[[o,{content:e.source.name}]]),O,(0,n._)("span",null,(0,f.zw)(e.name.eng),1)])]})),_:2},1032,["to"])})),128))])])})),128))])})),128))],2)):(0,n.kq)("",!0)])],16)),[[l]])]})),_:1},16,["to"])):(0,n.kq)("",!0)}r(74916),r(4723),r(24603),r(28450),r(88386),r(39714);var G=r(19322),q=r(70678),H={name:"RaceItem",components:{SvgIcon:G.Z},props:(0,i.Z)({raceItem:{type:Object,default:function(){return null},required:!0}},q.rH.props),data:function(){return{submenu:{show:!1},resizeObserver:null}},computed:{isOpenedSubraces:function(){var e;return(null===(e=this.$route.params)||void 0===e?void 0:e.raceName)===this.raceItem.url||this.submenu.show},hasSubraces:function(){var e,t;return!(null===(e=this.raceItem)||void 0===e||null===(t=e.subraces)||void 0===t||!t.length)}},watch:{submenu:{deep:!0,handler:function(){this.updateGrid()}},isOpenedSubraces:function(){this.updateGrid()}},mounted:function(){var e=this;this.$nextTick((function(){e.resizeObserver=new ResizeObserver(e.updateGrid),e.resizeObserver.observe(e.$refs.raceItem),e.updateGrid()}))},beforeUnmount:function(){this.resizeObserver.unobserve(this.$refs.raceItem)},methods:{getParentClasses:function(e){var t;return{"router-link-active":e||this.$route.fullPath.match(new RegExp("^".concat(this.raceItem.url))),"is-race-selected":"raceDetail"===this.$route.name,"is-green":"homebrew"===(null===(t=this.raceItem.type)||void 0===t?void 0:t.name.toLowerCase())}},toggleSubrace:function(){this.submenu.show=!this.submenu.show},updateGrid:function(){var e=this;this.$nextTick((function(){return e.$redrawVueMasonry("races-items")}))}}},j=r(40089);const L=(0,j.Z)(H,[["render",W],["__scopeId","data-v-07b2ee3f"]]);var K=L,U={name:"RacesView",components:{RaceItem:K,ContentLayout:d.Z,FilterItemCheckboxes:l.Z,FilterItemSource:o.Z,ListFilter:u.Z},beforeRouteEnter:function(){return(0,c.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(0,_.t)(),e.next=3,t.initRaceList();case 3:case"end":return e.stop()}}),e)})))()},computed:(0,i.Z)({},(0,m.rn)(_.t,["getRaces","getCurrentRace"]))};const Y=(0,j.Z)(U,[["render",a]]);var F=Y}}]);