"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[851],{9158:function(e,t,s){s.d(t,{Z:function(){return p}});var a=s(9199);const r={class:"content-layout__body"},i={class:"content-layout__list"},n={key:0,class:"content-layout__filter"},c={class:"content-layout__items"},o={key:0,class:"content-layout__selected"};function u(e,t,s,u,l,m){const _=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",{class:(0,a.C_)(["content-layout",m.layoutClasses])},[(0,a._)("div",r,[(0,a._)("div",i,[e.$slots.filter?((0,a.wg)(),(0,a.iD)("div",n,[(0,a.WI)(e.$slots,"filter",{},void 0,!0)])):(0,a.kq)("",!0),(0,a._)("div",c,[(0,a.WI)(e.$slots,"items",{},void 0,!0)])]),s.showRightSide?((0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(),(0,a.j4)(_,{key:e.$route.fullPath}))])):(0,a.kq)("",!0)])],2)}var l=s(5669),m={name:"ContentLayout",props:{showRightSide:{type:Boolean,default:!1}},data:()=>({uiStore:(0,l.H)()}),computed:{layoutClasses(){return{"is-showed-right-side":this.showRightSide,"is-fullscreen":this.uiStore.getContentConfig.fullscreen,"is-small":!this.uiStore.getContentConfig.fullscreen}}}},_=s(89);const d=(0,_.Z)(m,[["render",u],["__scopeId","data-v-0fb3d05a"]]);var p=d},4220:function(e,t,s){s.r(t),s.d(t,{default:function(){return L}});var a=s(9199);const r={"transition-duration":"0.15s",class:"races__items_body--inner","item-selector":".race-item",gutter:"16","percent-position":"true","horizontal-order":"true"};function i(e,t,s,i,n,c){const o=(0,a.up)("filter-item-source"),u=(0,a.up)("filter-item-checkboxes"),l=(0,a.up)("list-filter"),m=(0,a.up)("race-item"),_=(0,a.up)("content-layout"),d=(0,a.Q2)("masonry");return(0,a.wg)(),(0,a.j4)(_,{"show-right-side":"raceDetail"===e.$route.name},{filter:(0,a.w5)((()=>[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o),(0,a.Wm)(u,{name:"Кость хитов"})])),_:1})])),items:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getRaces,((e,t)=>((0,a.wg)(),(0,a.j4)(m,{key:t,to:{path:e.url},"race-item":e},null,8,["to","race-item"])))),128))])),[[d,"races-items"]])])),_:1},8,["show-right-side"])}var n=s(169),c=s(6617),o=s(3568),u=s(5543);const l={class:"race-item__content"},m={class:"race-item__main"},_=["href","onClick"],d={class:"race-item__icon"},p={class:"race-item__body"},w={class:"race-item__body_row"},h={class:"race-item__name"},b={class:"race-item__name--rus"},g={class:"race-item__name--eng"},v={class:"race-item__book"},f={class:"race-item__body_row"},y={class:"race-item__abilities"},k={class:"race-item__subrace-type_name"},I={class:"race-item__subrace-type_items"},C={class:"race-item__subrace-item_name"},D={class:"race-item__subrace-item_book"},$=(0,a.Uk)(" / ");function z(e,t,s,r,i,n){const c=(0,a.up)("svg-icon"),o=(0,a.up)("router-link"),u=(0,a.Q2)("tooltip"),z=(0,a.Q2)("masonry-tile");return"undefined"!==typeof s.raceItem.url?((0,a.wg)(),(0,a.j4)(o,(0,a.dG)({key:0},e.$props,{custom:"",to:{path:s.raceItem.url}}),{default:(0,a.w5)((({href:r,navigate:S,isActive:R})=>[(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",(0,a.dG)(e.$attrs,{ref:"raceItem",class:["race-item",{"router-link-active":R||e.$route.fullPath.match(new RegExp(`^${s.raceItem.url}`)),"is-race-selected":"raceDetail"===e.$route.name,"is-green":"homebrew"===s.raceItem.type?.name.toLowerCase()}]}),[(0,a._)("div",l,[(0,a._)("div",m,[(0,a._)("a",{href:r,class:"race-item__link",onClick:(0,a.iM)((e=>S()),["left","prevent","exact"])},[(0,a._)("span",d,[(0,a.Wm)(c,{"icon-name":s.raceItem.icon},null,8,["icon-name"])]),(0,a._)("span",p,[(0,a._)("span",w,[(0,a._)("span",h,[(0,a._)("span",b,(0,a.zw)(s.raceItem.name.rus),1),(0,a._)("span",g," ["+(0,a.zw)(s.raceItem.name.eng)+"] ",1)]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",v,[(0,a.Uk)((0,a.zw)(s.raceItem.source.shortName),1)])),[[u,{content:s.raceItem.source.name}]])]),(0,a._)("span",f,[(0,a._)("span",y,(0,a.zw)(s.raceItem.abilities),1)])])],8,_),s.raceItem?.subraces?.length?(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:(0,a.C_)(["race-item__toggle",{"is-active":i.submenu.show}]),onClick:t[0]||(t[0]=(0,a.iM)(((...e)=>n.toggleSubrace&&n.toggleSubrace(...e)),["left","exact","prevent"]))},[(0,a.Wm)(c,{"icon-name":"expand-down"})],2)),[[u,{content:"Разновидности"},void 0,{left:!0}]]):(0,a.kq)("",!0)]),s.raceItem?.subraces?.length?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,a.C_)([{"is-active":n.isOpenedSubraces},"race-item__subrace-list"])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.raceItem.subraces,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"race-item__subrace-list_col"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"race-item__subrace-type"},[(0,a._)("div",k,(0,a.zw)(e.name),1),(0,a._)("div",I,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.list,((e,t)=>((0,a.wg)(),(0,a.j4)(o,{key:t,to:{path:e.url},class:"race-item__subrace-item"},{default:(0,a.w5)((()=>[(0,a._)("span",C,(0,a.zw)(e.name.rus),1),(0,a._)("span",D,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",null,[(0,a.Uk)((0,a.zw)(e.source.shortName),1)])),[[u,{content:e.source.name}]]),$,(0,a._)("span",null,(0,a.zw)(e.name.eng),1)])])),_:2},1032,["to"])))),128))])])))),128))])))),128))],2)):(0,a.kq)("",!0)])],16)),[[z]])])),_:1},16,["to"])):(0,a.kq)("",!0)}var S=s(5537),R=s(678),O={name:"RaceItem",components:{SvgIcon:S.Z},props:{raceItem:{type:Object,default:()=>null,required:!0},...R.rH.props},data(){return{submenu:{show:!1},resizeObserver:null}},computed:{isOpenedSubraces(){return this.$route.params?.raceName===this.raceItem.url||this.submenu.show}},watch:{submenu:{deep:!0,handler(){this.updateGrid()}},isOpenedSubraces(){this.updateGrid()}},mounted(){this.$nextTick((()=>{this.resizeObserver=new ResizeObserver(this.updateGrid),this.resizeObserver.observe(this.$refs.raceItem),this.updateGrid()}))},beforeUnmount(){this.resizeObserver.unobserve(this.$refs.raceItem)},methods:{toggleSubrace(){this.submenu.show=!this.submenu.show},updateGrid(){this.$nextTick((()=>this.$redrawVueMasonry("races-items")))}}},Z=s(89);const x=(0,Z.Z)(O,[["render",z],["__scopeId","data-v-64e4eb62"]]);var G=x,W=s(9371),j=s(9158),q={name:"RacesView",components:{ContentLayout:j.Z,RaceItem:G,FilterItemCheckboxes:o.Z,FilterItemSource:c.Z,ListFilter:n.Z},async beforeRouteEnter(){const e=(0,W.t)();await e.initRaceList()},computed:{...(0,u.rn)(W.t,["getRaces","getCurrentRace"])}};const H=(0,Z.Z)(q,[["render",i]]);var L=H}}]);