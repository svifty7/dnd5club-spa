"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[754],{72978:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});a(68309);var r=a(73396),n={"transition-duration":"0.15s",class:"race-items","item-selector":".race-item",gutter:"16","horizontal-order":"true"};function s(e,t,a,s,c,i){var u=(0,r.up)("list-filter"),o=(0,r.up)("race-item"),l=(0,r.up)("content-layout"),m=(0,r.Q2)("masonry");return(0,r.wg)(),(0,r.j4)(l,{"show-right-side":"raceDetail"===e.$route.name},{filter:(0,r.w5)((function(){return[(0,r.Wm)(u,{"store-key":"races"})]})),items:(0,r.w5)((function(){return[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",n,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.getRaces,(function(e,t){return(0,r.wg)(),(0,r.j4)(o,{key:t,"race-item":e,to:{path:e.url}},null,8,["race-item","to"])})),128))])),[[m,"races-items"]])]})),_:1},8,["show-right-side"])}var c=a(95082),i=a(17068),u=a(65543),o=a(71318),l=a(64771),m=a(49242),_=a(87139),d={class:"race-item__content"},p={class:"race-item__main"},w=["href","onClick"],h={class:"race-item__icon"},f={class:"race-item__body"},b={class:"race-item__body_row"},g={class:"race-item__name"},v={class:"race-item__name--rus"},y={class:"race-item__name--eng"},k={class:"race-item__book"},I={class:"race-item__body_row"},D={class:"race-item__abilities"},C={class:"race-item__subrace-type_name"},S={class:"race-item__subrace-type_items"},$={class:"race-item__subrace-item_name"},z={class:"race-item__subrace-item_book"},R=(0,r.Uk)(" / ");function Z(e,t,a,n,s,c){var i=(0,r.up)("svg-icon"),u=(0,r.up)("router-link"),o=(0,r.Q2)("tooltip"),l=(0,r.Q2)("masonry-tile");return"undefined"!==typeof a.raceItem.url?((0,r.wg)(),(0,r.j4)(u,(0,r.dG)({key:0},e.$props,{custom:"",to:{path:a.raceItem.url}}),{default:(0,r.w5)((function(n){var Z=n.href,x=n.navigate,G=n.isActive;return[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",(0,r.dG)({ref:"raceItem"},e.$attrs,{class:["race-item",c.getParentClasses(G)]}),[(0,r._)("div",d,[(0,r._)("div",p,[(0,r._)("a",{href:Z,class:"race-item__link",onClick:(0,m.iM)((function(e){return x()}),["left","prevent","exact"])},[(0,r._)("span",h,[(0,r.Wm)(i,{"icon-name":a.raceItem.icon},null,8,["icon-name"])]),(0,r._)("span",f,[(0,r._)("span",b,[(0,r._)("span",g,[(0,r._)("span",v,(0,_.zw)(a.raceItem.name.rus),1),(0,r._)("span",y," ["+(0,_.zw)(a.raceItem.name.eng)+"] ",1)]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("span",k,[(0,r.Uk)((0,_.zw)(a.raceItem.source.shortName),1)])),[[o,{content:a.raceItem.source.name}]])]),(0,r._)("span",I,[(0,r._)("span",D,(0,_.zw)(a.raceItem.abilities),1)])])],8,w),c.hasSubraces?(0,r.wy)(((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:(0,_.C_)(["race-item__toggle",{"is-active":s.submenu.show}]),onClick:t[0]||(t[0]=(0,m.iM)((function(){return c.toggleSubrace&&c.toggleSubrace.apply(c,arguments)}),["left","exact","prevent"]))},[(0,r.Wm)(i,{"icon-name":"expand-down"})],2)),[[o,{content:"Разновидности"},void 0,{left:!0}]]):(0,r.kq)("",!0)]),c.hasSubraces?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,_.C_)([{"is-active":c.isOpenedSubraces},"race-item__subrace-list"])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.raceItem.subraces,(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{key:t,class:"race-item__subrace-list_col"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e,(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{key:t,class:"race-item__subrace-type"},[(0,r._)("div",C,(0,_.zw)(e.name),1),(0,r._)("div",S,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.list,(function(e,t){return(0,r.wg)(),(0,r.j4)(u,{key:t,to:{path:e.url},class:"race-item__subrace-item"},{default:(0,r.w5)((function(){return[(0,r._)("span",$,(0,_.zw)(e.name.rus),1),(0,r._)("span",z,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("span",null,[(0,r.Uk)((0,_.zw)(e.source.shortName),1)])),[[o,{content:e.source.name}]]),R,(0,r._)("span",null,(0,_.zw)(e.name.eng),1)])]})),_:2},1032,["to"])})),128))])])})),128))])})),128))],2)):(0,r.kq)("",!0)])],16)),[[l]])]})),_:1},16,["to"])):(0,r.kq)("",!0)}a(74916),a(4723),a(24603),a(28450),a(88386),a(39714);var x=a(46986),G=a(70678),j=a(43061),H={name:"RaceItem",components:{SvgIcon:x.Z},inheritAttrs:!1,props:(0,c.Z)({raceItem:{type:Object,default:function(){return null},required:!0}},G.rH.props),data:function(){return{submenu:{show:!1}}},computed:{isOpenedSubraces:function(){var e;return(null===(e=this.$route.params)||void 0===e?void 0:e.raceName)===this.raceItem.url||this.submenu.show},hasSubraces:function(){var e,t;return!(null===(e=this.raceItem)||void 0===e||null===(t=e.subraces)||void 0===t||!t.length)}},watch:{submenu:{deep:!0,handler:function(){this.updateGrid()}},isOpenedSubraces:function(){this.updateGrid()}},mounted:function(){var e=this;this.$nextTick((function(){(0,j.yU7)(e.$refs.raceItem,e.updateGrid)}))},methods:{getParentClasses:function(e){var t;return{"router-link-active":e||this.$route.fullPath.match(new RegExp("^".concat(this.raceItem.url))),"is-race-selected":"raceDetail"===this.$route.name,"is-green":"homebrew"===(null===(t=this.raceItem.type)||void 0===t?void 0:t.name.toLowerCase())}},toggleSubrace:function(){this.submenu.show=!this.submenu.show},updateGrid:function(){var e=this;this.$nextTick((function(){return e.$redrawVueMasonry("races-items")}))}}},q=a(40089);const K=(0,q.Z)(H,[["render",Z],["__scopeId","data-v-86c55cb4"]]);var O=K,U={name:"RacesView",components:{RaceItem:O,ContentLayout:l.Z,ListFilter:i.Z},computed:(0,c.Z)({},(0,u.rn)(o.t,["getRaces","getCurrentRace"]))};const Y=(0,q.Z)(U,[["render",s]]);var L=Y}}]);