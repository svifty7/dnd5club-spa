"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[218],{6057:function(e,t,a){a.r(t),a.d(t,{default:function(){return Y}});var s=a(3396);const r={"transition-duration":"0.15s",class:"race-items","item-selector":".race-item",gutter:"16","horizontal-order":"true"};function c(e,t,a,c,i,n){const u=(0,s.up)("list-filter"),o=(0,s.up)("race-item"),m=(0,s.up)("content-layout"),l=(0,s.Q2)("masonry");return(0,s.wg)(),(0,s.j4)(m,{"show-right-side":"raceDetail"===e.$route.name},{filter:(0,s.w5)((()=>[(0,s.Wm)(u)])),items:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getRaces,((e,t)=>((0,s.wg)(),(0,s.j4)(o,{key:t,"race-item":e,to:{path:e.url}},null,8,["race-item","to"])))),128))])),[[l,"races-items"]])])),_:1},8,["show-right-side"])}var i=a(6680),n=a(5543),u=a(7769),o=a(4771),m=a(9242),l=a(7139);const _={class:"race-item__content"},p={class:"race-item__main"},d=["href","onClick"],w={class:"race-item__icon"},h={class:"race-item__body"},b={class:"race-item__body_row"},g={class:"race-item__name"},y={class:"race-item__name--rus"},k={class:"race-item__name--eng"},v={class:"race-item__book"},f={class:"race-item__body_row"},I={class:"race-item__abilities"},D={class:"race-item__subrace-type_name"},C={class:"race-item__subrace-type_items"},$={class:"race-item__subrace-item_name"},S={class:"race-item__subrace-item_book"},z=(0,s.Uk)(" / ");function R(e,t,a,r,c,i){const n=(0,s.up)("svg-icon"),u=(0,s.up)("router-link"),o=(0,s.Q2)("tooltip"),R=(0,s.Q2)("masonry-tile");return"undefined"!==typeof a.raceItem.url?((0,s.wg)(),(0,s.j4)(u,(0,s.dG)({key:0},e.$props,{custom:"",to:{path:a.raceItem.url}}),{default:(0,s.w5)((({href:r,navigate:x,isActive:G})=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({ref:"raceItem"},e.$attrs,{class:["race-item",i.getParentClasses(G)]}),[(0,s._)("div",_,[(0,s._)("div",p,[(0,s._)("a",{href:r,class:"race-item__link",onClick:(0,m.iM)((e=>x()),["left","prevent","exact"])},[(0,s._)("span",w,[(0,s.Wm)(n,{"icon-name":a.raceItem.icon},null,8,["icon-name"])]),(0,s._)("span",h,[(0,s._)("span",b,[(0,s._)("span",g,[(0,s._)("span",y,(0,l.zw)(a.raceItem.name.rus),1),(0,s._)("span",k," ["+(0,l.zw)(a.raceItem.name.eng)+"] ",1)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",v,[(0,s.Uk)((0,l.zw)(a.raceItem.source.shortName),1)])),[[o,{content:a.raceItem.source.name}]])]),(0,s._)("span",f,[(0,s._)("span",I,(0,l.zw)(a.raceItem.abilities),1)])])],8,d),i.hasSubraces?(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:(0,l.C_)(["race-item__toggle",{"is-active":c.submenu.show}]),onClick:t[0]||(t[0]=(0,m.iM)(((...e)=>i.toggleSubrace&&i.toggleSubrace(...e)),["left","exact","prevent"]))},[(0,s.Wm)(n,{"icon-name":"expand-down"})],2)),[[o,{content:"Разновидности"},void 0,{left:!0}]]):(0,s.kq)("",!0)]),i.hasSubraces?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,l.C_)([{"is-active":i.isOpenedSubraces},"race-item__subrace-list"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.raceItem.subraces,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"race-item__subrace-list_col"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"race-item__subrace-type"},[(0,s._)("div",D,(0,l.zw)(e.name),1),(0,s._)("div",C,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.list,((e,t)=>((0,s.wg)(),(0,s.j4)(u,{key:t,to:{path:e.url},class:"race-item__subrace-item"},{default:(0,s.w5)((()=>[(0,s._)("span",$,(0,l.zw)(e.name.rus),1),(0,s._)("span",S,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",null,[(0,s.Uk)((0,l.zw)(e.source.shortName),1)])),[[o,{content:e.source.name}]]),z,(0,s._)("span",null,(0,l.zw)(e.name.eng),1)])])),_:2},1032,["to"])))),128))])])))),128))])))),128))],2)):(0,s.kq)("",!0)])],16)),[[R]])])),_:1},16,["to"])):(0,s.kq)("",!0)}var x=a(6986),G=a(678),j=a(3061),H={name:"RaceItem",components:{SvgIcon:x.Z},inheritAttrs:!1,props:{raceItem:{type:Object,default:()=>null,required:!0},...G.rH.props},data(){return{submenu:{show:!1}}},computed:{isOpenedSubraces(){return this.$route.params?.raceName===this.raceItem.url||this.submenu.show},hasSubraces(){return!!this.raceItem?.subraces?.length}},watch:{submenu:{deep:!0,handler(){this.updateGrid()}},isOpenedSubraces(){this.updateGrid()}},mounted(){this.$nextTick((()=>{(0,j.yU7)(this.$refs.raceItem,this.updateGrid)}))},methods:{getParentClasses(e){return{"router-link-active":e||this.$route.fullPath.match(new RegExp(`^${this.raceItem.url}`)),"is-race-selected":"raceDetail"===this.$route.name,"is-green":"homebrew"===this.raceItem.type?.name.toLowerCase()}},toggleSubrace(){this.submenu.show=!this.submenu.show},updateGrid(){this.$nextTick((()=>this.$redrawVueMasonry("races-items")))}}},Z=a(89);const q=(0,Z.Z)(H,[["render",R],["__scopeId","data-v-86c55cb4"]]);var K=q,O={name:"RacesView",components:{RaceItem:K,ContentLayout:o.Z,ListFilter:i.Z},computed:{...(0,n.rn)(u.t,["getRaces","getCurrentRace"])}};const U=(0,Z.Z)(O,[["render",c]]);var Y=U}}]);