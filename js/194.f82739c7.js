"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[194],{4800:function(e,t,o){o.d(t,{Z:function(){return b}});var n=o(3396),i=o(7139),r=o(9242);const c={class:"section-header"},s={class:"section-header__body"},a={class:"section-header__title"},l={class:"section-header__title--text"},u={key:0,class:"section-header__subtitle"},d={key:0,class:"section-header__controls"},p={key:0,class:"section-header__controls--optional"},h={key:1,type:"button",class:"section-header__control--optional is-only-desktop"},y={key:1,class:"section-header__controls--main"};function f(e,t,o,f,m,_){const v=(0,n.up)("svg-icon");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",s,[(0,n._)("div",a,[(0,n._)("div",l,(0,i.zw)(o.title),1),o.copy?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"section-header__title--copy",onClick:t[0]||(t[0]=(0,r.iM)(((...e)=>_.copyText&&_.copyText(...e)),["left","exact","prevent","stop"]))},[(0,n.Wm)(v,{"icon-name":"copy"})])):(0,n.kq)("",!0)]),o.subtitle?((0,n.wg)(),(0,n.iD)("div",u,(0,i.zw)(o.subtitle),1)):(0,n.kq)("",!0)]),_.hasControls?((0,n.wg)(),(0,n.iD)("div",d,[_.hasOptionalControls?((0,n.wg)(),(0,n.iD)("div",p,[o.print?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"section-header__control--optional is-only-desktop",onClick:t[1]||(t[1]=(0,r.iM)(((...e)=>_.openPrintWindow&&_.openPrintWindow(...e)),["left","exact","prevent","stop"]))},[(0,n.Wm)(v,{"icon-name":"print"})])):(0,n.kq)("",!0),o.exportFoundry?((0,n.wg)(),(0,n.iD)("button",h,[(0,n.Wm)(v,{"icon-name":"export-foundry"})])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),_.hasMainControls?((0,n.wg)(),(0,n.iD)("div",y,[o.fullscreen?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"section-header__control--main is-only-desktop",onClick:t[2]||(t[2]=(0,r.iM)((t=>e.uiStore.setFullscreenState(!e.uiStore.getContentConfig.fullscreen)),["left","exact","prevent"]))},[(0,n.Wm)(v,{"icon-name":e.uiStore.getContentConfig.fullscreen?"exit-fullscreen":"fullscreen"},null,8,["icon-name"])])):(0,n.kq)("",!0),o.close?((0,n.wg)(),(0,n.iD)("button",{key:1,type:"button",class:"section-header__control--main",onClick:t[3]||(t[3]=(0,r.iM)((e=>o.close()),["left","exact","prevent","stop"]))},[(0,n.Wm)(v,{"icon-name":"close"})])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])}var m=o(9322),_=o(9494),v={name:"SectionHeader",components:{SvgIcon:m.Z},props:{title:{type:String,required:!0},subtitle:{type:String,default:""},copy:{type:String,default:""},print:{type:Boolean,default:!1},exportFoundry:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},close:{type:Function,default:void 0}},data:()=>({uiStore:(0,_.H)()}),computed:{hasOptionalControls(){return!!this.print||!!this.exportFoundry},hasMainControls(){return!!this.close||!!this.fullscreen},hasControls(){return!!this.hasOptionalControls||!!this.hasMainControls}},methods:{async copyText(){if(navigator.clipboard)try{return void await navigator.clipboard.writeText(this.copy)}catch(t){console.error(t)}const e=document.body.appendChild(document.createElement("input"));e.value=this.copy,e.focus(),e.select(),document.execCommand("copy"),e.parentNode.removeChild(e)},openPrintWindow(){window.print()}}},g=o(89);const k=(0,g.Z)(v,[["render",f],["__scopeId","data-v-66896b56"]]);var b=k},2194:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var n=o(3396);const i={class:"race-detail"};function r(e,t,o,r,c,s){const a=(0,n.up)("section-header");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(a,{title:s.currentRace.name.rus,subtitle:s.currentRace.name.eng,copy:s.urlForCopy,level:2,fullscreen:""},null,8,["title","subtitle","copy"])])}var c=o(4800),s=o(7769),a={name:"RaceDetail",components:{SectionHeader:c.Z},async beforeRouteUpdate(e,t,o){this.loading=!0;const n=(0,s.t)();n.deselectRace(),n.setRaceInfo(e.params.raceName,e.params?.subrace).then((()=>{this.loading=!1,this.setTab(0),o()})).catch((e=>{console.log(e)}))},data:()=>({raceStore:(0,s.t)(),loading:!1,currentTab:void 0}),computed:{currentRace(){return this.raceStore.getCurrentRace},urlForCopy(){return window.location.origin+this.$route.fullPath}},methods:{}},l=o(89);const u=(0,l.Z)(a,[["render",r]]);var d=u}}]);