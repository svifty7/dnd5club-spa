"use strict";(self["webpackChunkdnd5club_spa"]=self["webpackChunkdnd5club_spa"]||[]).push([[615],{2462:function(e,t,a){a.r(t),a.d(t,{default:function(){return Y}});var s=a(9199);const r={class:"races"},c={class:"races__list"},i={class:"races__filter"},n={class:"races__items"},m={class:"races__items_body"},o={"transition-duration":"0.15s",class:"races__items_body--inner","item-selector":".race-item",gutter:"16","percent-position":"true","horizontal-order":"true"};function u(e,t,a,u,l,_){const d=(0,s.up)("filter-item-source"),p=(0,s.up)("filter-item-checkboxes"),b=(0,s.up)("list-filter"),w=(0,s.up)("race-item"),h=((0,s.up)("router-view"),(0,s.Q2)("masonry"));return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",c,[(0,s._)("div",i,[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d),(0,s.Wm)(p,{name:"Кость хитов"})])),_:1})]),(0,s._)("div",n,[(0,s._)("div",m,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getRaces,((e,t)=>((0,s.wg)(),(0,s.j4)(w,{key:t,to:{name:"raceDetail",params:{raceName:e.name.url}},"race-item":e},null,8,["to","race-item"])))),128))])),[[h,"races-items"]])])])]),(0,s.kq)("",!0)])}var l=a(169),_=a(6617),d=a(3568),p=a(5543);const b={class:"race-item__content"},w={class:"race-item__main"},h=["href","onClick"],g={class:"race-item__icon"},v={class:"race-item__body"},f={class:"race-item__body_row"},k={class:"race-item__name"},y={class:"race-item__name--rus"},I={class:"race-item__name--eng"},D={class:"race-item__book"},z={class:"race-item__body_row"},$={class:"race-item__abilities"},C={class:"race-item__subrace-type_name"},S={class:"race-item__subrace-type_items"},G={class:"race-item__subrace-item_name"},O={class:"race-item__subrace-item_book"};function R(e,t,a,r,c,i){const n=(0,s.up)("svg-icon"),m=(0,s.up)("router-link"),o=(0,s.Q2)("tooltip"),u=(0,s.Q2)("masonry-tile");return"undefined"!==typeof a.raceItem.name.url?((0,s.wg)(),(0,s.j4)(m,(0,s.dG)({key:0},e.$props,{custom:"",to:{name:"raceDetail",params:{raceName:a.raceItem.name.url}}}),{default:(0,s.w5)((({href:r,navigate:l,isActive:_})=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",(0,s.dG)(e.$attrs,{ref:"raceItem",class:["race-item",{"router-link-active":_}]}),[(0,s._)("div",b,[(0,s._)("div",w,[(0,s._)("a",{href:r,class:"race-item__link",onClick:(0,s.iM)((e=>l()),["left","prevent","exact"])},[(0,s._)("span",g,[(0,s.Wm)(n,{"icon-name":i.getSVGName},null,8,["icon-name"])]),(0,s._)("span",v,[(0,s._)("span",f,[(0,s._)("span",k,[(0,s._)("span",y,(0,s.zw)(a.raceItem.name.rus),1),(0,s._)("span",I," ["+(0,s.zw)(a.raceItem.name.eng)+"] ",1)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",D,[(0,s.Uk)((0,s.zw)(a.raceItem.source.shortName),1)])),[[o,{content:a.raceItem.source.name}]])]),(0,s._)("span",z,[(0,s._)("span",$,(0,s.zw)(a.raceItem.abilities),1)])])],8,h),a.raceItem?.subraces?.length?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:(0,s.C_)(["race-item__toggle",{"is-active":c.submenu.show}]),onClick:t[0]||(t[0]=(0,s.iM)(((...e)=>i.toggleSubrace&&i.toggleSubrace(...e)),["left","exact","prevent"]))},[(0,s.Wm)(n,{"icon-name":"expand-down"})],2)):(0,s.kq)("",!0)]),a.raceItem?.subraces?.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,s.C_)([{"is-active":i.isOpenedSubraces},"race-item__subrace-list"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.raceItem.subraces,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"race-item__subrace-list_col"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"race-item__subrace-type"},[(0,s._)("div",C,(0,s.zw)(e.name),1),(0,s._)("div",S,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.list,((e,t)=>((0,s.wg)(),(0,s.j4)(m,{key:t,to:{path:e.name.url},class:"race-item__subrace-item"},{default:(0,s.w5)((()=>[(0,s._)("span",G,(0,s.zw)(e.name.rus),1),(0,s._)("span",O,(0,s.zw)(`${e.source.shortName} / ${e.name.eng}`),1)])),_:2},1032,["to"])))),128))])])))),128))])))),128))],2)):(0,s.kq)("",!0)])],16)),[[u]])])),_:1},16,["to"])):(0,s.kq)("",!0)}var x=a(5537),N=a(678),Z={name:"RaceItem",components:{SvgIcon:x.Z},props:{raceItem:{type:Object,default:()=>null,required:!0},...N.rH.props},data(){return{submenu:{show:!1},resizeObserver:null}},computed:{isOpenedSubraces(){return this.$route.params?.raceName===this.raceItem.name?.url||this.submenu.show},getSVGName(){return`race-${this.raceItem.name.eng.toLowerCase().split(" ").join("-")}`}},watch:{submenu:{deep:!0,handler(){this.updateGrid()}},isOpenedSubraces(){this.updateGrid()}},mounted(){this.$nextTick((()=>{this.resizeObserver=new ResizeObserver(this.updateGrid),this.resizeObserver.observe(this.$refs.raceItem),this.updateGrid()}))},beforeUnmount(){this.resizeObserver.unobserve(this.$refs.raceItem)},methods:{toggleSubrace(){this.submenu.show=!this.submenu.show},updateGrid(){this.$nextTick((()=>this.$redrawVueMasonry("races-items")))}}},j=a(89);const q=(0,j.Z)(Z,[["render",R],["__scopeId","data-v-63e131d3"]]);var H=q,W=a(9371),K={name:"RacesView",components:{RaceItem:H,FilterItemCheckboxes:d.Z,FilterItemSource:_.Z,ListFilter:l.Z},async beforeRouteEnter(){const e=(0,W.t)();await e.initRaceList()},computed:{...(0,p.rn)(W.t,["getRaces","getCurrentRace"])}};const V=(0,j.Z)(K,[["render",u],["__scopeId","data-v-e77cd1f2"]]);var Y=V}}]);